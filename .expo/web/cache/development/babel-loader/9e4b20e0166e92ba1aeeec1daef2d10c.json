{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { FirebaseContext } from \"../../context/FirebaseContext\";\nimport { UserContext } from \"../../context/UserContext\";\nimport { GroupContext } from \"../../context/GroupContext\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport Vibration from \"react-native-web/dist/exports/Vibration\";\nimport { VStack, Input, Button, Icon, Box, Heading, Stack, Pressable, AspectRatio, Image } from \"native-base\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default ExplorerScreen = function ExplorerScreen(_ref) {\n  var navigation = _ref.navigation;\n  var firebase = useContext(FirebaseContext);\n\n  var _useContext = useContext(UserContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      User = _useContext2[0],\n      setUser = _useContext2[1];\n\n  var _useContext3 = useContext(GroupContext),\n      _useContext4 = _slicedToArray(_useContext3, 2),\n      Group = _useContext4[0],\n      setGroup = _useContext4[1];\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      Suggestion = _useState2[0],\n      setSuggestion = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Query = _useState4[0],\n      setQuery = _useState4[1];\n\n  useEffect(function () {\n    RetriveGroups();\n  }, []);\n\n  var SearchHandler = function SearchHandler() {\n    var Search_array = firebase.SearchForCommunities(Query);\n    setSuggestion(Search_array);\n  };\n\n  var JoinGroup = function JoinGroup(groupID) {\n    firebase.JoinGroup(groupID);\n  };\n\n  var RetriveGroups = function RetriveGroups() {\n    var NewSuggestion;\n    return _regeneratorRuntime.async(function RetriveGroups$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(firebase.ExplorationFeed());\n\n          case 3:\n            NewSuggestion = _context.sent;\n            setSuggestion(NewSuggestion);\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(\"Error @RetriveGroups\", _context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var RenderGroups = function RenderGroups(_ref2) {\n    var item = _ref2.item;\n    return _jsx(Box, {\n      w: \"200\",\n      h: \"200\",\n      rounded: \"lg\",\n      overflow: \"hidden\",\n      borderColor: \"coolGray.200\",\n      borderWidth: \"5\",\n      children: _jsxs(Pressable, {\n        _pressed: {\n          bg: \"muted.400\"\n        },\n        onPress: JoinGroup(item.groupID),\n        children: [_jsx(Box, {\n          w: \"100%\",\n          children: _jsx(AspectRatio, {\n            w: \"100%\",\n            ratio: 16 / 9,\n            children: _jsx(Image, {\n              source: {\n                uri: \"https://picsum.photos/200/300\"\n              },\n              alt: \"image\"\n            })\n          })\n        }), _jsx(Stack, {\n          p: \"4\",\n          space: 3,\n          children: _jsx(Stack, {\n            space: 2,\n            children: _jsx(Heading, {\n              size: \"md\",\n              ml: \"-1\",\n              children: item.groupname\n            })\n          })\n        })]\n      })\n    });\n  };\n\n  return _jsxs(Box, {\n    children: [_jsxs(VStack, {\n      my: \"4\",\n      space: 5,\n      w: \"100%\",\n      maxW: \"300px\",\n      alignSelf: \"center\",\n      pt: \"10\",\n      children: [_jsxs(VStack, {\n        w: \"100%\",\n        space: 5,\n        alignSelf: \"center\",\n        children: [_jsx(Heading, {\n          alignSelf: \"center\",\n          fontSize: \"lg\",\n          children: \" Find your community: \"\n        }), _jsx(Input, {\n          input: Query,\n          onChangeText: function onChangeText(Query) {\n            return setQuery(Query);\n          },\n          placeholder: \"Search for groups\",\n          width: \"100%\",\n          borderRadius: \"4\",\n          py: \"3\",\n          px: \"1\",\n          fontSize: \"14\",\n          InputLeftElement: _jsx(Icon, {\n            m: \"2\",\n            ml: \"3\",\n            size: \"6\",\n            color: \"gray.400\",\n            as: _jsx(MaterialIcons, {\n              name: \"search\"\n            })\n          })\n        })]\n      }), _jsx(Button, {\n        onPress: SearchHandler,\n        children: \"Search for group\"\n      })]\n    }), _jsx(FlatList, {\n      contentContainerStyle: {\n        alignSelf: 'center'\n      },\n      numColumns: 2,\n      data: Suggestion,\n      renderItem: RenderGroups,\n      keyExtractor: function keyExtractor(item) {\n        return item.groupID.toString();\n      },\n      refreshControl: _jsx(RefreshControl, {\n        onRefresh: RetriveGroups\n      })\n    })]\n  });\n};","map":{"version":3,"sources":["/Users/havardskjaerstein/Desktop/Achive/screens/Explorer/ExploreScreen.js"],"names":["React","useState","useContext","useEffect","FirebaseContext","UserContext","GroupContext","VStack","Input","Button","Icon","Box","Heading","Stack","Pressable","AspectRatio","Image","MaterialIcons","ExplorerScreen","navigation","firebase","User","setUser","Group","setGroup","Suggestion","setSuggestion","Query","setQuery","RetriveGroups","SearchHandler","Search_array","SearchForCommunities","JoinGroup","groupID","ExplorationFeed","NewSuggestion","console","log","RenderGroups","item","bg","uri","groupname","alignSelf","toString"],"mappings":"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","sourcesContent":["\nimport React, {useState, useContext, useEffect} from \"react\";\nimport { FlatList } from \"react-native\";\nimport {FirebaseContext} from \"../../context/FirebaseContext\";\nimport {UserContext} from \"../../context/UserContext\";\nimport {GroupContext} from \"../../context/GroupContext\";\n\nimport {RefreshControl, Vibration} from 'react-native';\n\nimport { VStack, Input, Button, Icon, Box, Heading,Stack,Pressable, AspectRatio, Image} from \"native-base\";\nimport {MaterialIcons } from \"@expo/vector-icons\";\n\nexport default ExplorerScreen = ({navigation}) => {\n  \n  const firebase = useContext(FirebaseContext); \n  const [User, setUser] = useContext(UserContext); \n  const [Group, setGroup] = useContext(GroupContext); \n  \n  const [Suggestion, setSuggestion] = useState(); \n  const [Query, setQuery] = useState(\"\"); \n\n  useEffect(() => {\n    RetriveGroups();  \n  }, []);\n\n  const SearchHandler = () => {\n//queryes the database for groups to join\n\n  const Search_array = firebase.SearchForCommunities(Query)\n  setSuggestion(Search_array); \n}; \n\nconst JoinGroup = (groupID) => {\n    //queryes the database for groups to join\n    firebase.JoinGroup(groupID)\n  }; \n\nconst RetriveGroups = async () => {\n  try{\n    const NewSuggestion = await firebase.ExplorationFeed() \n    //console.log(\"sug\",NewSuggestion)\n    setSuggestion(NewSuggestion);  \n\n    }catch(error){\n      console.log(\"Error @RetriveGroups\", error)\n    }\n}\n  const RenderGroups = ({item}) =>(\n\n    <Box w=\"200\" h=\"200\" rounded=\"lg\" overflow=\"hidden\" borderColor=\"coolGray.200\" borderWidth=\"5\" >\n      <Pressable _pressed={{bg: \"muted.400\"}} onPress={JoinGroup(item.groupID)}>\n        <Box w=\"100%\">\n            <AspectRatio w=\"100%\" ratio={16 / 9}>\n              <Image source={{\n              uri: \"https://picsum.photos/200/300\"\n            }} alt=\"image\" />\n            </AspectRatio>\n        </Box>\n\n        <Stack p=\"4\" space={3}>\n          <Stack space={2}>\n            <Heading size=\"md\" ml=\"-1\">\n            {item.groupname}\n            </Heading>\n          </Stack>\n        </Stack>\n        </Pressable>\n      </Box>\n  )\n\n  return(\n    <Box>\n\n      <VStack my=\"4\" space={5} w=\"100%\" maxW=\"300px\" alignSelf=\"center\" pt=\"10\">\n        <VStack w=\"100%\" space={5} alignSelf=\"center\">\n          <Heading alignSelf=\"center\" fontSize=\"lg\"> Find your community: </Heading>\n          <Input input={Query} onChangeText={Query => setQuery(Query)} placeholder=\"Search for groups\" width=\"100%\" borderRadius=\"4\" py=\"3\" px=\"1\" fontSize=\"14\" \n          InputLeftElement={<Icon m=\"2\" ml=\"3\" size=\"6\" color=\"gray.400\" as={<MaterialIcons name=\"search\" />} />} />\n        </VStack>\n        <Button onPress={SearchHandler}>Search for group</Button>\n      </VStack>\n\n      <FlatList \n        contentContainerStyle={{alignSelf: 'center'}}\n        numColumns={2}\n        data={Suggestion} \n        renderItem={RenderGroups} \n        keyExtractor={item => item.groupID.toString()} \n        refreshControl={<RefreshControl onRefresh={RetriveGroups} />}\n      />\n    </Box>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}