{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useContext, Component } from \"react\";\nimport { FirebaseContext } from \"../../../context/FirebaseContext\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { Box, Text, Pressable, Heading, IconButton, Icon, HStack, Avatar, VStack, Spacer, Center, Image, Divider } from \"native-base\";\nimport { MaterialIcons, Ionicons, Entypo } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default GroupSettingScreen = function GroupSettingScreen(_ref) {\n  var navigation = _ref.navigation;\n  var firebase = useContext(FirebaseContext);\n\n  var _useContext = useContext(UserContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      user = _useContext2[0],\n      setUser = _useContext2[1];\n\n  var pickImage = function pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function pickImage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context.sent;\n\n            if (!result.cancelled) {\n              firebase.uploadProfilePhoto(result.uri);\n              setUser(function (state) {\n                return _objectSpread(_objectSpread({}, state), {}, {\n                  profilePhotoUrl: result.uri\n                });\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var ButtonAlert = function ButtonAlert() {\n    return Alert.alert(\"Alert Title\", \"My Alert Msg\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Delete the account\",\n      onPress: function onPress() {\n        return console.log(\"Delete Pressed\");\n      }\n    }]);\n  };\n\n  var signOut = function signOut() {\n    return _regeneratorRuntime.async(function signOut$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            firebase.SignOutUser();\n            setUser({\n              username: \"\",\n              email: \"\",\n              uid: \"\",\n              groups: [],\n              profilePhotoUrl: \"default\",\n              isLoggedIn: false\n            });\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var deleteUser = function deleteUser() {\n    return _regeneratorRuntime.async(function deleteUser$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            ButtonAlert();\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(firebase.DeleteUser());\n\n          case 3:\n            setUser({\n              isLoggedIn: null\n            });\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var clearCache = function clearCache() {\n    return _regeneratorRuntime.async(function clearCache$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(firebase.ClearCache());\n\n          case 3:\n            _context4.next = 8;\n            break;\n\n          case 5:\n            _context4.prev = 5;\n            _context4.t0 = _context4[\"catch\"](0);\n            throw _context4.t0;\n\n          case 8:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  return _jsxs(Center, {\n    w: \"100%\",\n    children: [_jsx(Pressable, {\n      onPress: pickImage,\n      _pressed: {\n        opacity: 0.5\n      },\n      children: _jsx(HStack, {\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        space: 2,\n        pb: \"5\",\n        pt: \"5\",\n        children: _jsx(Avatar, {\n          w: \"100\",\n          h: \"100\",\n          pb: \"1\",\n          source: user.profilePhotoUrl == \"default\" ? require(\"../../../assets/default-profile.png\") : {\n            uri: user.profilePhotoUrl\n          }\n        })\n      })\n    }), _jsx(Box, {\n      maxW: \"80%\",\n      w: \"100%\",\n      children: _jsxs(VStack, {\n        space: 3,\n        children: [_jsx(Divider, {}), _jsx(Pressable, {\n          onPress: function onPress() {\n            return navigation.push(\"UsersSetting\");\n          },\n          _pressed: {\n            opacity: 0.5\n          },\n          children: _jsxs(HStack, {\n            w: \"100%\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            children: [_jsx(Ionicons, {\n              name: \"person-circle-outline\",\n              size: 50\n            }), _jsx(Text, {\n              color: \"coolGray.800\",\n              bold: true,\n              children: \"User settings\"\n            }), _jsx(Ionicons, {\n              name: \"chevron-forward-outline\",\n              size: 30\n            })]\n          })\n        }), _jsx(Divider, {}), _jsx(Pressable, {\n          onPress: function onPress() {\n            return console.log(\"I'm Pressed\");\n          },\n          _pressed: {\n            opacity: 0.5\n          },\n          children: _jsxs(HStack, {\n            w: \"100%\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            children: [_jsx(Ionicons, {\n              name: \"lock-closed-outline\",\n              size: 50\n            }), _jsx(Text, {\n              color: \"coolGray.800\",\n              bold: true,\n              children: \"Privicy & Security\"\n            }), _jsx(Ionicons, {\n              name: \"chevron-forward-outline\",\n              size: 30\n            })]\n          })\n        }), _jsx(Divider, {}), _jsx(Pressable, {\n          onPress: function onPress() {\n            return console.log(\"I'm Pressed\");\n          },\n          _pressed: {\n            opacity: 0.5\n          },\n          children: _jsxs(HStack, {\n            w: \"100%\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            children: [_jsx(Ionicons, {\n              name: \"notifications-circle-outline\",\n              size: 50\n            }), _jsx(Text, {\n              color: \"coolGray.800\",\n              bold: true,\n              children: \"Notification\"\n            }), _jsx(Ionicons, {\n              name: \"chevron-forward-outline\",\n              size: 30\n            })]\n          })\n        }), _jsx(Divider, {}), _jsx(Pressable, {\n          onPress: deleteUser,\n          _pressed: {\n            opacity: 0.5\n          },\n          children: _jsxs(HStack, {\n            w: \"100%\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            children: [_jsx(Ionicons, {\n              name: \"trash-outline\",\n              size: 50\n            }), _jsx(Text, {\n              color: \"coolGray.800\",\n              bold: true,\n              children: \"Delete User\"\n            }), _jsx(Ionicons, {\n              name: \"chevron-forward-outline\",\n              size: 30\n            })]\n          })\n        }), _jsx(Divider, {}), _jsx(Pressable, {\n          onPress: signOut,\n          _pressed: {\n            opacity: 0.5\n          },\n          children: _jsxs(HStack, {\n            w: \"100%\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            children: [_jsx(Ionicons, {\n              name: \"log-out-outline\",\n              size: 50\n            }), _jsx(Text, {\n              color: \"coolGray.800\",\n              bold: true,\n              children: \"Log Out\"\n            }), _jsx(Ionicons, {\n              name: \"chevron-forward-outline\",\n              size: 30\n            })]\n          })\n        }), _jsx(Divider, {}), _jsx(Pressable, {\n          onPress: clearCache,\n          _pressed: {\n            opacity: 0.5\n          },\n          children: _jsxs(HStack, {\n            w: \"100%\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            children: [_jsx(Ionicons, {\n              name: \"refresh-circle-outline\",\n              size: 50\n            }), _jsx(Text, {\n              color: \"coolGray.800\",\n              bold: true,\n              children: \"Clear Cache\"\n            }), _jsx(Ionicons, {\n              name: \"chevron-forward-outline\",\n              size: 30\n            })]\n          })\n        }), _jsx(Divider, {})]\n      })\n    })]\n  });\n};","map":{"version":3,"sources":["/Users/havardskjaerstein/Desktop/Achive/screens/GroupTab/GroupScreens/GroupSettingScreen.js"],"names":["React","useState","useContext","Component","FirebaseContext","UserContext","ImagePicker","Box","Text","Pressable","Heading","IconButton","Icon","HStack","Avatar","VStack","Spacer","Center","Image","Divider","MaterialIcons","Ionicons","Entypo","GroupSettingScreen","navigation","firebase","user","setUser","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","uploadProfilePhoto","uri","state","profilePhotoUrl","ButtonAlert","Alert","alert","text","onPress","console","log","style","signOut","SignOutUser","username","email","uid","groups","isLoggedIn","deleteUser","DeleteUser","clearCache","ClearCache","opacity","require","push"],"mappings":"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","sourcesContent":["import React, {useState, useContext, Component} from \"react\";\nimport {FirebaseContext} from \"../../../context/FirebaseContext\";\nimport {UserContext} from \"../../../context/UserContext\";\nimport { Alert } from \"react-native\";\nimport * as ImagePicker from \"expo-image-picker\"\nimport {Box, Text, Pressable, Heading, IconButton, \n  Icon, HStack, Avatar, VStack, Spacer, Center, Image, Divider} from \"native-base\";\nimport { MaterialIcons, Ionicons, Entypo } from \"@expo/vector-icons\";\n\nexport default GroupSettingScreen = ({navigation}) => {\n\n  const firebase = useContext(FirebaseContext); \n  const [user, setUser] = useContext(UserContext); \n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n    });\n    if (!result.cancelled){\n      firebase.uploadProfilePhoto(result.uri)\n      setUser((state) => ({ ...state, profilePhotoUrl: result.uri})); \n      //navigation.navigate('Group');\n    }\n  };\n\n  const ButtonAlert = () =>\n    Alert.alert(\n      \"Alert Title\",\n      \"My Alert Msg\",\n      [\n        {\n          text: \"Cancel\",\n          onPress: () => console.log(\"Cancel Pressed\"),\n          style: \"cancel\"\n        },\n        { text: \"Delete the account\", onPress: () => console.log(\"Delete Pressed\") }\n      ]\n  );\n\n  const signOut = async () => {\n    firebase.SignOutUser(); \n\n    setUser({\n      username: \"\",\n      email: \"\", \n      uid: \"\", \n      groups: [], \n      profilePhotoUrl: \"default\",\n      isLoggedIn: false, \n    })\n  };\n  \n  const deleteUser = async () => {\n    ButtonAlert(); \n    await firebase.DeleteUser()\n    setUser({isLoggedIn: null}); \n  }; \n\n  const clearCache = async () => {\n    try {\n      await firebase.ClearCache()\n    } catch (err) {\n      throw err;\n    }\n\n    //<ion-icon name=\"return-down-back-outline\"></ion-icon>\n\n    /*\n    <Pressable onPress={() => navigation.push(\"Achive\")} _pressed={{opacity: 0.5}}>\n      <HStack justifyContent=\"flex-end\" >\n        <Ionicons \n                  name={\"return-down-back-outline\"} \n                  size={50} />\n      </HStack>\n    </Pressable>\n    */\n  };  \n\n  return(\n    <Center w=\"100%\">\n      <Pressable onPress={pickImage} _pressed={{opacity: 0.5}}>\n        <HStack alignItems=\"center\" justifyContent=\"space-between\" space={2} pb=\"5\" pt=\"5\">\n          <Avatar w=\"100\" h=\"100\" pb=\"1\"\n              source={user.profilePhotoUrl == \"default\"\n                  ? require(\"../../../assets/default-profile.png\")\n                  : { uri: user.profilePhotoUrl}\n                  }>\n          </Avatar> \n        </HStack>\n      </Pressable>\n\n      <Box maxW=\"80%\" w=\"100%\">\n        <VStack space={3}>\n          <Divider />\n          <Pressable onPress={() => navigation.push(\"UsersSetting\")} _pressed={{opacity: 0.5}}>\n            <HStack w=\"100%\" justifyContent=\"space-between\" alignItems=\"center\" >\n\n              <Ionicons \n                  name={\"person-circle-outline\"} \n                  size={50} />\n              <Text color=\"coolGray.800\" bold>\n                User settings\n              </Text>\n\n              <Ionicons \n                  name={\"chevron-forward-outline\"} \n                  size={30} />\n          \n            </HStack>\n            </Pressable>\n          <Divider />\n\n          <Pressable onPress={() => console.log(\"I'm Pressed\")} _pressed={{opacity: 0.5}}>\n            <HStack w=\"100%\" justifyContent=\"space-between\" alignItems=\"center\" >\n                <Ionicons \n                    name={\"lock-closed-outline\"} \n                    size={50} />\n                <Text color=\"coolGray.800\" bold>\n                  Privicy & Security\n                </Text>\n\n                <Ionicons \n                    name={\"chevron-forward-outline\"} \n                    size={30} />\n              </HStack>\n          </Pressable>\n          <Divider />\n\n          <Pressable onPress={() => console.log(\"I'm Pressed\")} _pressed={{opacity: 0.5}}>\n            <HStack w=\"100%\" justifyContent=\"space-between\" alignItems=\"center\" >\n                <Ionicons \n                    name={\"notifications-circle-outline\"} \n                    size={50} />\n                <Text color=\"coolGray.800\" bold>\n                  Notification\n                </Text>\n\n                <Ionicons \n                    name={\"chevron-forward-outline\"} \n                    size={30} />\n              </HStack>\n          </Pressable>\n          <Divider />\n\n          <Pressable onPress={deleteUser} _pressed={{opacity: 0.5}}>\n            <HStack w=\"100%\" justifyContent=\"space-between\" alignItems=\"center\" >\n                <Ionicons \n                    name={\"trash-outline\"} \n                    size={50} />\n                <Text color=\"coolGray.800\" bold>\n                Delete User \n                </Text>\n\n                <Ionicons \n                    name={\"chevron-forward-outline\"} \n                    size={30} />\n              </HStack>\n          </Pressable>\n\n          <Divider />\n          <Pressable onPress={signOut} _pressed={{opacity: 0.5}}>\n            <HStack w=\"100%\" justifyContent=\"space-between\" alignItems=\"center\" >\n                <Ionicons \n                    name={\"log-out-outline\"} \n                    size={50} />\n                <Text color=\"coolGray.800\" bold>\n                Log Out \n                </Text>\n\n                <Ionicons \n                    name={\"chevron-forward-outline\"} \n                    size={30} />\n              </HStack>\n          </Pressable>\n\n            <Divider />\n          <Pressable onPress={clearCache} _pressed={{opacity: 0.5}}>\n            <HStack w=\"100%\" justifyContent=\"space-between\" alignItems=\"center\" >\n              <Ionicons \n                  name={\"refresh-circle-outline\"} \n                  size={50} />\n              <Text color=\"coolGray.800\" bold>\n                Clear Cache\n              </Text>\n              <Ionicons \n                  name={\"chevron-forward-outline\"} \n                  size={30} />\n            </HStack>\n          </Pressable>\n          <Divider />\n        </VStack>\n      </Box>\n    </Center>\n\n    );\n}"]},"metadata":{},"sourceType":"module"}