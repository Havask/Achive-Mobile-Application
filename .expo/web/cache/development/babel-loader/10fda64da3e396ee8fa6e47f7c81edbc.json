{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useCallback } from 'react';\nimport { videoRef } from \"../utils/videoRenderer\";\nimport { PhotoView as _PhotoView } from \"../utils/photoView\";\nexport var PhotoView = function PhotoView(props) {\n  var onRequestClose = props.onRequestClose;\n\n  var _onRequestClose = useCallback(function () {\n    if (videoRef.current) {\n      var _videoRef$current;\n\n      (_videoRef$current = videoRef.current) === null || _videoRef$current === void 0 ? void 0 : _videoRef$current.unloadAsync();\n    }\n\n    onRequestClose();\n  }, [onRequestClose]);\n\n  var _onImageIndexChange = useCallback(function () {\n    if (videoRef.current) {\n      var _videoRef$current2;\n\n      (_videoRef$current2 = videoRef.current) === null || _videoRef$current2 === void 0 ? void 0 : _videoRef$current2.unloadAsync();\n    }\n  }, []);\n\n  if (_PhotoView) {\n    return React.createElement(_PhotoView, _extends({}, props, {\n      onRequestClose: _onRequestClose,\n      onImageIndexChange: _onImageIndexChange,\n      swipeToCloseEnabled: true\n    }));\n  }\n\n  return null;\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AACA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,SAASC,QAAT;AACA,SAASC,SAAS,IAAIC,UAAtB;AAQA,OAAO,IAAMD,SAAS,GAAIE,SAAbF,SAAaE,MAAD,EAAmB;EAC1C,IAAQC,cAAR,GAA2BD,KAA3B,CAAQC,cAAR;;EAEA,IAAMC,eAAe,GAAGN,WAAW,CAAC,YAAM;IACxC,IAAIC,QAAQ,CAACM,OAAb,EAAsB;MAAA;;MACpB,6BAAQ,CAACA,OAAT,wEAAkBC,WAAlB;IACD;;IACDH,cAAc;EAJmB,GAKhC,CAACA,cAAD,CALgC,CAAnC;;EAOA,IAAMI,mBAAmB,GAAGT,WAAW,CAAC,YAAM;IAC5C,IAAIC,QAAQ,CAACM,OAAb,EAAsB;MAAA;;MACpB,8BAAQ,CAACA,OAAT,0EAAkBC,WAAlB;IACD;EAHoC,GAIpC,EAJoC,CAAvC;;EAMA,IAAIL,UAAJ,EAAgB;IACd,OACEJ,oBAACI,UAAD,eACMC,KADN;MAEEC,cAAc,EAAEC,eAFlB;MAGEI,kBAAkB,EAAED,mBAHtB;MAIEE,mBAAmB;IAJrB,GADF;EAQD;;EAED,OAAO,IAAP;AA3BK","names":["React","useCallback","videoRef","PhotoView","_PhotoView","props","onRequestClose","_onRequestClose","current","unloadAsync","_onImageIndexChange","onImageIndexChange","swipeToCloseEnabled"],"sources":["PhotoView.tsx"],"sourcesContent":["import type { ViewSource } from '@muhammedkpln/react-native-image-viewing/dist/ImageViewing';\nimport React, { useCallback } from 'react';\nimport { videoRef } from '../utils/videoRenderer';\nimport { PhotoView as _PhotoView } from '../utils/photoView';\n\ninterface IProps {\n  views: ViewSource[];\n  visible: boolean;\n  onRequestClose: () => void;\n}\n\nexport const PhotoView = (props: IProps) => {\n  const { onRequestClose } = props;\n\n  const _onRequestClose = useCallback(() => {\n    if (videoRef.current) {\n      videoRef.current?.unloadAsync();\n    }\n    onRequestClose();\n  }, [onRequestClose]);\n\n  const _onImageIndexChange = useCallback(() => {\n    if (videoRef.current) {\n      videoRef.current?.unloadAsync();\n    }\n  }, []);\n\n  if (_PhotoView) {\n    return (\n      <_PhotoView\n        {...props}\n        onRequestClose={_onRequestClose}\n        onImageIndexChange={_onImageIndexChange}\n        swipeToCloseEnabled\n      />\n    );\n  }\n\n  return null;\n};\n"]},"metadata":{},"sourceType":"module"}