{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport styled, { ThemeContext, ThemeProvider } from \"styled-components/native\";\nimport Text from \"../../components/Text.js\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { FirebaseContext } from \"../../context/FirebaseContext\";\nimport { UserContext } from \"../../context/UserContext\";\nimport QRCode from 'react-native-qrcode-svg';\nimport { Svg } from \"react-native-svg\";\nimport { ColorPicker } from 'react-native-status-color-picker';\nimport Checkbox from 'expo-checkbox';\nimport { AntDesign } from \"@expo/vector-icons\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default CreateGroupScreen = function CreateGroupScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var firebase = useContext(FirebaseContext);\n\n  var _useContext = useContext(UserContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      _ = _useContext2[0],\n      setUser = _useContext2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Groupname = _useState4[0],\n      setGroupName = _useState4[1];\n\n  var _useState5 = useState('#F44336'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Color = _useState6[0],\n      setColor = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      Privacy = _useState8[0],\n      setPrivacy = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      GroupPhoto = _useState10[0],\n      setGroupPhoto = _useState10[1];\n\n  var pickImage = function pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function pickImage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context.sent;\n\n            if (!result.cancelled) {\n              setGroupPhoto(result.uri);\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var state = {\n    colors: [\"#F44336\", \"#E91E63\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#2196F3\", \"#03A9F4\", \"#00BCD4\", \"#009688\", \"#4CAF50\", \"#8BC34A\", \"#CDDC39\", \"#FFEB3B\", \"#FFC107\", \"#FF9800\", \"#FF5722\", \"#795548\", \"#9E9E9E\", \"#607D8B\"],\n    selectedColor: '#F44336'\n  };\n\n  var CreateNewGroup = function CreateNewGroup() {\n    var GroupID, group;\n    return _regeneratorRuntime.async(function CreateNewGroup$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            setLoading(true);\n            GroupID = makeid(6);\n            group = {\n              Groupname: Groupname,\n              GroupID: GroupID,\n              Color: Color,\n              Privacy: Privacy,\n              GroupPhoto: GroupPhoto\n            };\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(firebase.CreateNewGroup(group));\n\n          case 6:\n            navigation.push(\"HomeScreen\");\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(\"Error @CreateNewGroup\", _context2.t0);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n\n  var generateQR = function generateQR(text) {\n    return _regeneratorRuntime.async(function generateQR$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", _jsx(QRCode, {\n              value: text\n            }));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var makeid = function makeid(length) {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n  };\n\n  var onSelect = function onSelect(color) {\n    return setColor(color);\n  };\n\n  return _jsx(Container, {\n    children: _jsx(ScrollView, {\n      children: _jsxs(KeyboardAvoidingView, {\n        children: [_jsx(Main, {\n          children: _jsx(Text, {\n            title: true,\n            semi: true,\n            center: true,\n            color: \"#88d498\",\n            children: \"Create new group:\"\n          })\n        }), _jsx(ProfilePhotoContainer, {\n          onPress: pickImage,\n          children: GroupPhoto ? _jsx(ProfilePhoto, {\n            source: {\n              uri: GroupPhoto\n            }\n          }) : _jsx(DefaultProfilePhoto, {\n            children: _jsx(AntDesign, {\n              name: \"plus\",\n              size: 24,\n              color: \"#88d498\"\n            })\n          })\n        }), _jsx(Auth, {\n          children: _jsxs(AuthContainer, {\n            children: [_jsx(AuthTitle, {\n              children: \"Group Name\"\n            }), _jsx(AuthField, {\n              autoCapitalize: \"none\",\n              autocorrect: false,\n              onChangeText: function onChangeText(Groupname) {\n                return setGroupName(Groupname);\n              },\n              value: Groupname\n            })]\n          })\n        }), _jsxs(BoxContainer, {\n          children: [_jsx(Text, {\n            medium: true,\n            center: true,\n            children: \"Set this group private?\"\n          }), _jsx(BoxStyle, {\n            value: Privacy,\n            onValueChange: setPrivacy,\n            color: Privacy ? \"#88d498\" : \"#88d498\"\n          })]\n        }), _jsx(ColorTitle, {\n          children: \"Choose theme\"\n        }), _jsx(ColorPicker, {\n          colors: state.colors,\n          selectedColor: state.selectedColor,\n          onSelect: onSelect\n        }), _jsx(SignUpContainer, {\n          onPress: CreateNewGroup,\n          disable: loading,\n          children: loading ? _jsx(Loading, {}) : _jsx(Text, {\n            bold: true,\n            center: true,\n            color: \"#ffffff\",\n            children: \"Create Group\"\n          })\n        })]\n      })\n    })\n  });\n};\nvar Container = styled.KeyboardAvoidingView(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n    flex: 1; \\n\"])));\nvar Main = styled.View(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  margin-top: 40px; \\n  margin-bottom: 30px; \\n\"])));\nvar Auth = styled.View(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"\\n  margin: 16px 32px 32px; \\n\"])));\nvar AuthContainer = styled.View(_templateObject4 || (_templateObject4 = _taggedTemplateLiteralLoose([\"\\n  margin-bottom: 32px;\\n\"])));\nvar AuthTitle = styled(Text)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteralLoose([\"\\n  color: #8e93a1;\\n  font-size: 12px; \\n  text-transform: uppercase; \\n  font-weight: 300; \\n\"])));\nvar AuthField = styled.TextInput(_templateObject6 || (_templateObject6 = _taggedTemplateLiteralLoose([\"\\n  border-bottom-color: #8e93a1; \\n  border-bottom-width: 1px;\\n  height: 48px; \\n\"])));\nvar SignUpContainer = styled.TouchableOpacity(_templateObject7 || (_templateObject7 = _taggedTemplateLiteralLoose([\"\\n  margin: 0 32px; \\n  margin-top: 30px; \\n  margin-bottom: 10px; \\n  height: 48px; \\n  align-items: center; \\n  justify-content: center; \\n  background-color: #88d498;\\n  border-radius: 6px;\\n\"])));\nvar Loading = styled.ActivityIndicator.attrs(function (props) {\n  return {\n    color: \"#fffffff\",\n    size: \"small\"\n  };\n})(_templateObject8 || (_templateObject8 = _taggedTemplateLiteralLoose([\"\"])));\nvar ColorTitle = styled(Text)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteralLoose([\"\\n  align-items: center; \\n  justify-content: center; \\n  color: #8e93a1;\\n  font-size: 12px; \\n  text-transform: uppercase; \\n  font-weight: 300; \\n\"])));\nvar BoxStyle = styled(Checkbox)(_templateObject10 || (_templateObject10 = _taggedTemplateLiteralLoose([\"\\n  align-items: center; \\n  justify-content: center; \\n  margin: 0px 10px 3px; \\n\"])));\nvar BoxContainer = styled.View(_templateObject11 || (_templateObject11 = _taggedTemplateLiteralLoose([\"\\n  flex-direction: row; \\n  margin-bottom: 32px;\\n  justify-content: center; \\n\"])));\nvar ProfilePhotoContainer = styled.TouchableOpacity(_templateObject12 || (_templateObject12 = _taggedTemplateLiteralLoose([\"\\n  background-color: #e1e2e6;\\n  width: 90px; \\n  height: 90px; \\n  border-radius: 48px; \\n  align-self: center; \\n  overflow: hidden; \\n  margin-bottom: 32px;\\n\"])));\nvar DefaultProfilePhoto = styled.View(_templateObject13 || (_templateObject13 = _taggedTemplateLiteralLoose([\"\\n  align-items: center; \\n  justify-content: center; \\n  flex: 1; \\n\"])));\nvar ProfilePhoto = styled.Image(_templateObject14 || (_templateObject14 = _taggedTemplateLiteralLoose([\"\\n  width: 90px;\\n  height: 90px; \\n  border-radius: 64px; \\n\"])));","map":{"version":3,"sources":["/Users/havardskjaerstein/Desktop/Achive/screens/GroupTab/CreateGroupScreen.js"],"names":["React","useState","useContext","useEffect","styled","ThemeContext","ThemeProvider","Text","FirebaseContext","UserContext","QRCode","Svg","ColorPicker","Checkbox","AntDesign","ImagePicker","CreateGroupScreen","navigation","loading","setLoading","firebase","_","setUser","Groupname","setGroupName","Color","setColor","Privacy","setPrivacy","GroupPhoto","setGroupPhoto","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","uri","state","colors","selectedColor","CreateNewGroup","GroupID","makeid","group","push","console","log","generateQR","text","length","characters","charactersLength","i","charAt","Math","floor","random","onSelect","color","Container","KeyboardAvoidingView","Main","View","Auth","AuthContainer","AuthTitle","AuthField","TextInput","SignUpContainer","TouchableOpacity","Loading","ActivityIndicator","attrs","props","size","ColorTitle","BoxStyle","BoxContainer","ProfilePhotoContainer","DefaultProfilePhoto","ProfilePhoto","Image"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from \"react\";\nimport styled, {ThemeContext, ThemeProvider} from \"styled-components/native\"; \nimport Text from \"../../components/Text.js\";\nimport { KeyboardAvoidingView, ScrollView} from \"react-native\";\nimport {FirebaseContext} from \"../../context/FirebaseContext\";\nimport {UserContext} from \"../../context/UserContext\";\nimport QRCode from 'react-native-qrcode-svg';\nimport { Svg } from \"react-native-svg\";\nimport { ColorPicker } from 'react-native-status-color-picker';\nimport Checkbox from 'expo-checkbox';\nimport {AntDesign} from \"@expo/vector-icons\"\nimport * as ImagePicker from \"expo-image-picker\"\n\n//https://reactnativeexample.com/customizable-color-picker-for-your-beautiful-react-native-apps/\n\nexport default CreateGroupScreen = ({navigation}) => {\n\n  const [loading, setLoading] = useState(false); \n  const firebase = useContext(FirebaseContext); \n  const [_, setUser] = useContext(UserContext);   \n  const [Groupname, setGroupName] = useState(\"\"); \n  const [Color, setColor] = useState('#F44336'); \n  const [Privacy, setPrivacy] = useState(false);\n  const [GroupPhoto, setGroupPhoto] = useState(); \n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n    });\n    if (!result.cancelled) {\n      setGroupPhoto(result.uri);\n    }\n  };\n\n  const state = {\n    colors: [\"#F44336\", \"#E91E63\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#2196F3\", \"#03A9F4\", \"#00BCD4\", \n    \"#009688\", \"#4CAF50\", \"#8BC34A\", \"#CDDC39\", \"#FFEB3B\", \"#FFC107\", \"#FF9800\", \"#FF5722\", \"#795548\", \"#9E9E9E\", \"#607D8B\"],\n    selectedColor: '#F44336', \n  };\n\n  const CreateNewGroup = async () => {\n\n    try{\n\n      setLoading(true);\n\n      const GroupID = makeid(6); \n      const group = {Groupname, GroupID, Color, Privacy, GroupPhoto}\n  \n      //qr = generateQR(id); \n  \n      await firebase.CreateNewGroup(group); \n      navigation.push(\"HomeScreen\"); \n\n    }catch(error){\n      console.log(\"Error @CreateNewGroup\", error)\n    }\n  };\n\n  const generateQR = async (text) => {\n\n    return(\n      <QRCode\n        value= {text}\n      />\n    ); \n  }; \n  \n  const makeid = length => {\n    var result           = '';\n    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * \n      charactersLength));\n   }\n    return result;\n  }\n\n  const onSelect = color => setColor(color);\n\n  return(\n    <Container>\n      <ScrollView>\n      <KeyboardAvoidingView>\n       <Main>\n         <Text title semi center color=\"#88d498\">\n              Create new group:\n         </Text>\n        </Main>\n\n        <ProfilePhotoContainer onPress={pickImage}>\n          {GroupPhoto ? ( \n            <ProfilePhoto source={{uri: GroupPhoto}}/>\n          ) : (\n            <DefaultProfilePhoto>\n              <AntDesign name=\"plus\" size={24} color=\"#88d498\"/>\n            </DefaultProfilePhoto>\n          )}\n        </ProfilePhotoContainer>\n\n        <Auth>\n          <AuthContainer>\n            <AuthTitle>Group Name</AuthTitle>\n            <AuthField \n              autoCapitalize=\"none\" \n              autocorrect={false} \n              onChangeText={(Groupname) => setGroupName(Groupname)}\n              value={Groupname}\n            />\n          </AuthContainer>\n        </Auth>\n        <BoxContainer>\n           <Text medium center> \n                  Set this group private?   \n          </Text>\n              <BoxStyle\n              value={Privacy}\n              onValueChange={setPrivacy}\n              color={Privacy ? \"#88d498\" : \"#88d498\"}\n              />\n        </BoxContainer>\n\n        <ColorTitle>Choose theme</ColorTitle>\n\n        <ColorPicker\n          colors={state.colors}\n          selectedColor={state.selectedColor}\n          onSelect={onSelect}\n        />\n        \n        <SignUpContainer onPress={CreateNewGroup} disable={loading}>\n          {loading ? (<Loading/>) : (\n          <Text bold center color=\"#ffffff\">\n            Create Group</Text>\n          )}\n        </SignUpContainer>\n        \n        </KeyboardAvoidingView>\n      </ScrollView>\n     </Container>\n    );\n}\n\nconst Container = styled.KeyboardAvoidingView`\n    flex: 1; \n`;\n\nconst Main = styled.View`\n  margin-top: 40px; \n  margin-bottom: 30px; \n`;\n\nconst Auth = styled.View`\n  margin: 16px 32px 32px; \n`; \n\nconst AuthContainer = styled.View`\n  margin-bottom: 32px;\n`; \n\nconst AuthTitle = styled(Text)`\n  color: #8e93a1;\n  font-size: 12px; \n  text-transform: uppercase; \n  font-weight: 300; \n`; \n\nconst AuthField = styled.TextInput`\n  border-bottom-color: #8e93a1; \n  border-bottom-width: 1px;\n  height: 48px; \n`; \n\nconst SignUpContainer = styled.TouchableOpacity`\n  margin: 0 32px; \n  margin-top: 30px; \n  margin-bottom: 10px; \n  height: 48px; \n  align-items: center; \n  justify-content: center; \n  background-color: #88d498;\n  border-radius: 6px;\n`;\n\nconst Loading = styled.ActivityIndicator.attrs(props => ({\n  color: \"#fffffff\",\n  size: \"small\", \n}))``; \n\n\nconst ColorTitle = styled(Text)`\n  align-items: center; \n  justify-content: center; \n  color: #8e93a1;\n  font-size: 12px; \n  text-transform: uppercase; \n  font-weight: 300; \n`; \n\nconst BoxStyle = styled(Checkbox)`\n  align-items: center; \n  justify-content: center; \n  margin: 0px 10px 3px; \n`; \n\nconst BoxContainer = styled.View`\n  flex-direction: row; \n  margin-bottom: 32px;\n  justify-content: center; \n`; \n\nconst ProfilePhotoContainer = styled.TouchableOpacity`\n  background-color: #e1e2e6;\n  width: 90px; \n  height: 90px; \n  border-radius: 48px; \n  align-self: center; \n  overflow: hidden; \n  margin-bottom: 32px;\n`; \n\nconst DefaultProfilePhoto = styled.View`\n  align-items: center; \n  justify-content: center; \n  flex: 1; \n`; \n\nconst ProfilePhoto = styled.Image`\n  width: 90px;\n  height: 90px; \n  border-radius: 64px; \n`;"]},"metadata":{},"sourceType":"module"}