{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{PureComponent}from'react';import createIconSet from\"./createIconSet\";export default function createMultiStyleIconSet(styles){var optionsInput=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var styleNames=Object.keys(styles);if(styleNames.length===0){throw new Error('You need to add at least one style');}var options=_objectSpread({defaultStyle:styleNames[0],fallbackFamily:function fallbackFamily(_unused){return styleNames[0];},glyphValidator:function glyphValidator(_unused,__unused){return true;}},optionsInput);var iconSets=styleNames.reduce(function(acc,name){var style=styles[name];acc[name]=createIconSet(style.glyphMap||{},style.fontFamily||'',style.fontFile||'',style.fontStyle||{});return acc;},{});function styleFromProps(props){return Object.keys(props).reduce(function(result,propName){return styleNames.indexOf(propName)!==-1&&props[propName]===true?propName:result;},options.defaultStyle);}function getIconSetForProps(props){var name=props.name;var style=styleFromProps(props);if(options.glyphValidator(name,style))return iconSets[style];var family=options.fallbackFamily(name);if(styleNames.indexOf(family)===-1){return options.defaultStyle;}return iconSets[family];}function selectIconClass(iconSet,iconClass){return iconClass.length>0?iconSet[iconClass]:iconSet;}function reduceProps(props){return Object.keys(props).reduce(function(acc,prop){if(styleNames.indexOf(prop)===-1){acc[prop]=props[prop];}return acc;},{});}function getStyledIconSet(style){var name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';if(styleNames.indexOf(style)===-1){return iconSets[options.defaultStyle];}return!name?iconSets[styleFromProps(_defineProperty({},style,true))]:getIconSetForProps(_defineProperty({name:name},style,true));}function getFontFamily(){var style=arguments.length>0&&arguments[0]!==undefined?arguments[0]:options.defaultStyle;return getStyledIconSet(style).getFontFamily();}function getRawGlyphMap(){var style=arguments.length>0&&arguments[0]!==undefined?arguments[0]:options.defaultStyle;return getStyledIconSet(style).getRawGlyphMap();}function hasIcon(name){var style=arguments.length>1&&arguments[1]!==undefined?arguments[1]:options.defaultStyle;return options.glyphValidator(name,style);}function createStyledIconClass(){var selectClass=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var IconClass=function(_PureComponent){_inherits(IconClass,_PureComponent);var _super=_createSuper(IconClass);function IconClass(){_classCallCheck(this,IconClass);return _super.apply(this,arguments);}_createClass(IconClass,[{key:\"render\",value:function render(){var selectedIconSet=getIconSetForProps(this.props);var SelectedIconClass=selectIconClass(selectedIconSet,selectClass);var props=reduceProps(this.props);return React.createElement(SelectedIconClass,props);}}]);return IconClass;}(PureComponent);IconClass.defaultProps=styleNames.reduce(function(acc,name){acc[name]=false;return acc;},{});IconClass.font=Object.values(styles).reduce(function(acc,style){acc[style.fontFamily]=style.fontFile;return acc;},{});IconClass.StyledIconSet=getStyledIconSet;IconClass.getFontFamily=getFontFamily;IconClass.getRawGlyphMap=getRawGlyphMap;IconClass.hasIcon=hasIcon;return IconClass;}var Icon=createStyledIconClass();Icon.Button=createStyledIconClass('Button');return Icon;}","map":{"version":3,"mappings":"60DAAA,MAAOA,MAAP,EAAgBC,aAAhB,KAAqC,OAArC,CAEA,MAAOC,cAAP,uBAaA,cAAc,SAAUC,wBAAV,CACZC,MADY,CAEK,IAAjBC,aAAiB,2DAAF,EAAE,CAEjB,GAAMC,WAAU,CAAGC,MAAM,CAACC,IAAP,CAAYJ,MAAZ,CAAnB,CAEA,GAAIE,UAAU,CAACG,MAAX,GAAsB,CAA1B,CAA6B,CAC3B,KAAM,IAAIC,MAAJ,CAAU,oCAAV,CAAN,CACD,CAED,GAAMC,QAAO,gBACXC,YAAY,CAAEN,UAAU,CAAC,CAAD,CADb,CAEXO,cAAc,CAAE,wBAACC,OAAD,QAAkBR,WAAU,CAAC,CAAD,CAA5B,EAFL,CAGXS,cAAc,CAAE,wBAACD,OAAD,CAAeE,QAAf,QAAiC,KAAjC,EAHL,EAIRX,YAJQ,CAAb,CAOA,GAAMY,SAAQ,CAAGX,UAAU,CAACY,MAAX,CAAkB,SAACC,GAAD,CAAMC,IAAN,CAAc,CAC/C,GAAMC,MAAK,CAAGjB,MAAM,CAACgB,IAAD,CAApB,CAEAD,GAAG,CAACC,IAAD,CAAH,CAAYlB,aAAa,CACvBmB,KAAK,CAACC,QAAN,EAAkB,EADK,CAEvBD,KAAK,CAACE,UAAN,EAAoB,EAFG,CAGvBF,KAAK,CAACG,QAAN,EAAkB,EAHK,CAIvBH,KAAK,CAACI,SAAN,EAAmB,EAJI,CAAzB,CAOA,MAAON,IAAP,CACD,CAXgB,CAWd,EAXc,CAAjB,CAaA,QAASO,eAAT,CAAwBC,KAAxB,CAA6B,CAC3B,MAAOpB,OAAM,CAACC,IAAP,CAAYmB,KAAZ,EAAmBT,MAAnB,CACL,SAACU,MAAD,CAASC,QAAT,QACEvB,WAAU,CAACwB,OAAX,CAAmBD,QAAnB,IAAiC,CAAC,CAAlC,EAAuCF,KAAK,CAACE,QAAD,CAAL,GAAoB,IAA3D,CACIA,QADJ,CAEID,MAHN,EADK,CAKLjB,OAAO,CAACC,YALH,CAAP,CAOD,CAED,QAASmB,mBAAT,CAA4BJ,KAA5B,CAAiC,CAC/B,GAAQP,KAAR,CAAiBO,KAAjB,CAAQP,IAAR,CACA,GAAMC,MAAK,CAAGK,cAAc,CAACC,KAAD,CAA5B,CAEA,GAAIhB,OAAO,CAACI,cAAR,CAAuBK,IAAvB,CAA6BC,KAA7B,CAAJ,CAAyC,MAAOJ,SAAQ,CAACI,KAAD,CAAf,CAEzC,GAAMW,OAAM,CAAGrB,OAAO,CAACE,cAAR,CAAuBO,IAAvB,CAAf,CAEA,GAAId,UAAU,CAACwB,OAAX,CAAmBE,MAAnB,IAA+B,CAAC,CAApC,CAAuC,CACrC,MAAOrB,QAAO,CAACC,YAAf,CACD,CAED,MAAOK,SAAQ,CAACe,MAAD,CAAf,CACD,CAED,QAASC,gBAAT,CAAyBC,OAAzB,CAAkCC,SAAlC,CAA2C,CACzC,MAAOA,UAAS,CAAC1B,MAAV,CAAmB,CAAnB,CAAuByB,OAAO,CAACC,SAAD,CAA9B,CAA4CD,OAAnD,CACD,CAED,QAASE,YAAT,CAAqBT,KAArB,CAA0B,CACxB,MAAOpB,OAAM,CAACC,IAAP,CAAYmB,KAAZ,EAAmBT,MAAnB,CAA0B,SAACC,GAAD,CAAMkB,IAAN,CAAc,CAC7C,GAAI/B,UAAU,CAACwB,OAAX,CAAmBO,IAAnB,IAA6B,CAAC,CAAlC,CAAqC,CACnClB,GAAG,CAACkB,IAAD,CAAH,CAAYV,KAAK,CAACU,IAAD,CAAjB,CACD,CAED,MAAOlB,IAAP,CACD,CANM,CAMJ,EANI,CAAP,CAOD,CAED,QAASmB,iBAAT,CAA0BjB,KAA1B,CAA0C,IAATD,KAAS,2DAAF,EAAE,CACxC,GAAId,UAAU,CAACwB,OAAX,CAAmBT,KAAnB,IAA8B,CAAC,CAAnC,CAAsC,CACpC,MAAOJ,SAAQ,CAACN,OAAO,CAACC,YAAT,CAAf,CACD,CAED,MAAO,CAACQ,IAAD,CACHH,QAAQ,CAACS,cAAc,oBAAIL,KAAJ,CAAY,IAAZ,EAAf,CADL,CAEHU,kBAAkB,kBAAGX,IAAI,CAAJA,IAAH,EAAUC,KAAV,CAAkB,IAAlB,EAFtB,CAGD,CAED,QAASkB,cAAT,EAAmD,IAA5BlB,MAA4B,2DAApBV,OAAO,CAACC,YAAY,CACjD,MAAO0B,iBAAgB,CAACjB,KAAD,CAAhB,CAAwBkB,aAAxB,EAAP,CACD,CAED,QAASC,eAAT,EAAoD,IAA5BnB,MAA4B,2DAApBV,OAAO,CAACC,YAAY,CAClD,MAAO0B,iBAAgB,CAACjB,KAAD,CAAhB,CAAwBmB,cAAxB,EAAP,CACD,CAED,QAASC,QAAT,CAAiBrB,IAAjB,CAAmD,IAA5BC,MAA4B,2DAApBV,OAAO,CAACC,YAAY,CACjD,MAAOD,QAAO,CAACI,cAAR,CAAuBK,IAAvB,CAA6BC,KAA7B,CAAP,CACD,CAED,QAASqB,sBAAT,EAA+C,IAAhBC,YAAgB,2DAAF,EAAE,IACvCC,UADuC,uOAmB3C,iBAAM,CACJ,GAAMC,gBAAe,CAAGd,kBAAkB,CAAC,KAAKJ,KAAN,CAA1C,CACA,GAAMmB,kBAAiB,CAAGb,eAAe,CAACY,eAAD,CAAkBF,WAAlB,CAAzC,CACA,GAAMhB,MAAK,CAAGS,WAAW,CAAC,KAAKT,KAAN,CAAzB,CAEA,MAAO3B,MAAK,CAAC+C,aAAN,CAAoBD,iBAApB,CAAuCnB,KAAvC,CAAP,CACD,CAzB0C,uBACrB1B,aADqB,EAEpC2C,uBAAetC,UAAU,CAACY,MAAX,CAAkB,SAACC,GAAD,CAAMC,IAAN,CAAc,CACpDD,GAAG,CAACC,IAAD,CAAH,CAAY,KAAZ,CACA,MAAOD,IAAP,CACD,CAHqB,CAGnB,EAHmB,CAAf,CAKAyB,eAAOrC,MAAM,CAACyC,MAAP,CAAc5C,MAAd,EAAsBc,MAAtB,CAA6B,SAACC,GAAD,CAAME,KAAN,CAAe,CACxDF,GAAG,CAACE,KAAK,CAACE,UAAP,CAAH,CAAwBF,KAAK,CAACG,QAA9B,CACA,MAAOL,IAAP,CACD,CAHa,CAGX,EAHW,CAAP,CAOAyB,wBAAgBN,gBAAhB,CACAM,wBAAgBL,aAAhB,CACAK,yBAAiBJ,cAAjB,CACAI,kBAAUH,OAAV,CAWT,MAAOG,UAAP,CACD,CAED,GAAMK,KAAI,CAAGP,qBAAqB,EAAlC,CACAO,IAAI,CAACC,MAAL,CAAcR,qBAAqB,CAAC,QAAD,CAAnC,CACA,MAAOO,KAAP,CACD","names":["React","PureComponent","createIconSet","createMultiStyleIconSet","styles","optionsInput","styleNames","Object","keys","length","Error","options","defaultStyle","fallbackFamily","_unused","glyphValidator","__unused","iconSets","reduce","acc","name","style","glyphMap","fontFamily","fontFile","fontStyle","styleFromProps","props","result","propName","indexOf","getIconSetForProps","family","selectIconClass","iconSet","iconClass","reduceProps","prop","getStyledIconSet","getFontFamily","getRawGlyphMap","hasIcon","createStyledIconClass","selectClass","IconClass","selectedIconSet","SelectedIconClass","createElement","values","Icon","Button"],"sourceRoot":"","sources":["../src/createMultiStyleIconSet.ts"],"sourcesContent":["import React, { PureComponent } from 'react';\n\nimport createIconSet from './createIconSet';\n\ntype FontStyle = {\n  fontFamily: string;\n  fontFile: any;\n  glyphMap: any;\n  fontStyle: any;\n};\n\ntype FontStyles = {\n  [key: string]: FontStyle;\n};\n\nexport default function createMultiStyleIconSet(\n  styles: FontStyles,\n  optionsInput = {}\n): any {\n  const styleNames = Object.keys(styles);\n\n  if (styleNames.length === 0) {\n    throw new Error('You need to add at least one style');\n  }\n\n  const options = {\n    defaultStyle: styleNames[0],\n    fallbackFamily: (_unused: any) => styleNames[0],\n    glyphValidator: (_unused: any, __unused: any) => true,\n    ...optionsInput,\n  };\n\n  const iconSets = styleNames.reduce((acc, name) => {\n    const style = styles[name];\n\n    acc[name] = createIconSet(\n      style.glyphMap || {},\n      style.fontFamily || '',\n      style.fontFile || '',\n      style.fontStyle || {}\n    );\n\n    return acc;\n  }, {});\n\n  function styleFromProps(props) {\n    return Object.keys(props).reduce(\n      (result, propName) =>\n        styleNames.indexOf(propName) !== -1 && props[propName] === true\n          ? propName\n          : result,\n      options.defaultStyle\n    );\n  }\n\n  function getIconSetForProps(props) {\n    const { name } = props;\n    const style = styleFromProps(props);\n\n    if (options.glyphValidator(name, style)) return iconSets[style];\n\n    const family = options.fallbackFamily(name);\n\n    if (styleNames.indexOf(family) === -1) {\n      return options.defaultStyle;\n    }\n\n    return iconSets[family];\n  }\n\n  function selectIconClass(iconSet, iconClass) {\n    return iconClass.length > 0 ? iconSet[iconClass] : iconSet;\n  }\n\n  function reduceProps(props) {\n    return Object.keys(props).reduce((acc, prop) => {\n      if (styleNames.indexOf(prop) === -1) {\n        acc[prop] = props[prop];\n      }\n\n      return acc;\n    }, {});\n  }\n\n  function getStyledIconSet(style, name = '') {\n    if (styleNames.indexOf(style) === -1) {\n      return iconSets[options.defaultStyle];\n    }\n\n    return !name\n      ? iconSets[styleFromProps({ [style]: true })]\n      : getIconSetForProps({ name, [style]: true });\n  }\n\n  function getFontFamily(style = options.defaultStyle) {\n    return getStyledIconSet(style).getFontFamily();\n  }\n\n  function getRawGlyphMap(style = options.defaultStyle) {\n    return getStyledIconSet(style).getRawGlyphMap();\n  }\n\n  function hasIcon(name, style = options.defaultStyle) {\n    return options.glyphValidator(name, style);\n  }\n\n  function createStyledIconClass(selectClass = '') {\n    class IconClass extends PureComponent {\n      static defaultProps = styleNames.reduce((acc, name) => {\n        acc[name] = false;\n        return acc;\n      }, {});\n\n      static font = Object.values(styles).reduce((acc, style) => {\n        acc[style.fontFamily] = style.fontFile;\n        return acc;\n      }, {});\n\n      static Button: any;\n\n      static StyledIconSet = getStyledIconSet;\n      static getFontFamily = getFontFamily;\n      static getRawGlyphMap = getRawGlyphMap;\n      static hasIcon = hasIcon;\n\n      render() {\n        const selectedIconSet = getIconSetForProps(this.props);\n        const SelectedIconClass = selectIconClass(selectedIconSet, selectClass);\n        const props = reduceProps(this.props);\n\n        return React.createElement(SelectedIconClass, props);\n      }\n    }\n\n    return IconClass;\n  }\n\n  const Icon = createStyledIconClass();\n  Icon.Button = createStyledIconClass('Button');\n  return Icon;\n}\n"]},"metadata":{},"sourceType":"module"}