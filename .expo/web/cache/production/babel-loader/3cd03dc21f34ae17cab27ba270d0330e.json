{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{createContext,useState,useEffect,useLayoutEffect,useCallback}from\"react\";import AsyncStorage from'@react-native-async-storage/async-storage';import{initializeApp}from'firebase/app';import{getAuth,deleteUser,sendPasswordResetEmail,signOut,updatePassword,updateEmail,FacebookAuthProvider,getRedirectResult,signInWithRedirect}from\"firebase/auth\";import{getStorage,ref,uploadBytes,getDownloadURL}from\"firebase/storage\";import{getFirestore,setDoc,doc,updateDoc,getDoc,addDoc,orderBy,query,onSnapshot,collection,arrayUnion,arrayRemove,limit,getDocs,where}from\"firebase/firestore\";import config from\"../config/Firebase\";import{signInWithEmailAndPassword,createUserWithEmailAndPassword}from\"firebase/auth\";import*as SecureStore from'expo-secure-store';import{getDatabase}from\"firebase/database\";import{jsx as _jsx}from\"react/jsx-runtime\";var app=initializeApp(config);var storage=getStorage(app);var auth=getAuth(app);var db=getFirestore(app);var FirebaseContext=createContext();var database=getDatabase(app);var Firebase={CacheUserContext:function CacheUserContext(user){var jsonValue;return _regeneratorRuntime.async(function CacheUserContext$(_context){while(1){switch(_context.prev=_context.next){case 0:jsonValue=JSON.stringify(user);_context.next=3;return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"User\",jsonValue));case 3:case\"end\":return _context.stop();}}},null,null,null,Promise);},CacheGroupData:function CacheGroupData(){var groups,objectArray,jsonValue;return _regeneratorRuntime.async(function CacheGroupData$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(Firebase.RetriveGroupData());case 2:groups=_context2.sent;_context2.next=5;return _regeneratorRuntime.awrap(Firebase.LoadGroups(groups));case 5:objectArray=_context2.sent;jsonValue=JSON.stringify(objectArray);_context2.next=9;return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"groups\",jsonValue));case 9:case\"end\":return _context2.stop();}}},null,null,null,Promise);},RemoveCacheGroupData:function RemoveCacheGroupData(groupID){var value,parsedJson,indexOfObject,jsonValue;return _regeneratorRuntime.async(function RemoveCacheGroupData$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"groups\"));case 2:value=_context3.sent;if(!(value!==null)){_context3.next=19;break;}parsedJson=JSON.parse(value);console.log(parsedJson);indexOfObject=parsedJson.findIndex(function(object){return object.groupID===groupID;});parsedJson.splice(indexOfObject,1);console.log(parsedJson);if(!(parsedJson.length===0)){_context3.next=13;break;}console.log(\"Array is empty!\");AsyncStorage.removeItem(\"groups\");return _context3.abrupt(\"return\",1);case 13:jsonValue=JSON.stringify(parsedJson);_context3.next=16;return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"groups\",jsonValue));case 16:return _context3.abrupt(\"return\",parsedJson);case 19:console.log(\" no groups to remove in persistent storage\");case 20:case\"end\":return _context3.stop();}}},null,null,null,Promise);},ClearCacheGroupData:function ClearCacheGroupData(){var value;return _regeneratorRuntime.async(function ClearCacheGroupData$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"groups\"));case 2:value=_context4.sent;if(value!==null){AsyncStorage.removeItem(\"groups\");}else{console.log(\" no groups to remove in persistent storage\");}case 4:case\"end\":return _context4.stop();}}},null,null,null,Promise);},ValidateSignUpForm:function ValidateSignUpForm(email,password){var UserRef,q;return _regeneratorRuntime.async(function ValidateSignUpForm$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;console.log(\"email\",email);UserRef=collection(db,\"user\");console.log(UserRef);q=query(UserRef,where(\"email\",\"==\",email));console.log(\"q\",q);if(!(q!=null)){_context5.next=8;break;}return _context5.abrupt(\"return\",2);case 8:if(!(password.length<6)){_context5.next=10;break;}return _context5.abrupt(\"return\",1);case 10:return _context5.abrupt(\"return\");case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](0);console.log(\"Error @ValidateSignUpForm:\",_context5.t0.message);case 16:case\"end\":return _context5.stop();}}},null,null,[[0,13]],Promise);},getCurrentUser:function getCurrentUser(){return auth.currentUser;},createUser:function createUser(user){var _uid,_profilePhotoUrl;return _regeneratorRuntime.async(function createUser$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return _regeneratorRuntime.awrap(createUserWithEmailAndPassword(auth,user.email,user.password));case 3:_uid=Firebase.getCurrentUser().uid;_profilePhotoUrl=\"default\";console.log(\"Sets the docs to database\");_context6.next=8;return _regeneratorRuntime.awrap(setDoc(doc(db,\"users\",_uid),{username:user.username,email:user.email,password:user.password,profilePhotoUrl:_profilePhotoUrl,groups:[]}));case 8:if(!user.profilePhoto){_context6.next=12;break;}_context6.next=11;return _regeneratorRuntime.awrap(Firebase.uploadProfilePhoto(user.profilePhoto));case 11:_profilePhotoUrl=_context6.sent;case 12:delete user.password;return _context6.abrupt(\"return\",_objectSpread(_objectSpread({},user),{},{profilePhotoUrl:_profilePhotoUrl,uid:_uid}));case 16:_context6.prev=16;_context6.t0=_context6[\"catch\"](0);console.log(\"Error @createUser:\",_context6.t0.message);case 19:case\"end\":return _context6.stop();}}},null,null,[[0,16]],Promise);},uploadProfilePhoto:function uploadProfilePhoto(uri){var uid,photo,imagesRef,uidRef,url,docRef;return _regeneratorRuntime.async(function uploadProfilePhoto$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:uid=Firebase.getCurrentUser().uid;_context7.prev=1;_context7.next=4;return _regeneratorRuntime.awrap(Firebase.getBlob(uri));case 4:photo=_context7.sent;imagesRef=ref(storage,'profilePhotos');uidRef=ref(imagesRef,uid);_context7.next=9;return _regeneratorRuntime.awrap(uploadBytes(uidRef,photo));case 9:_context7.next=11;return _regeneratorRuntime.awrap(getDownloadURL(ref(storage,uidRef)));case 11:url=_context7.sent;docRef=doc(db,\"users\",uid);_context7.next=15;return _regeneratorRuntime.awrap(updateDoc(docRef,{profilePhotoUrl:url}));case 15:return _context7.abrupt(\"return\",url);case 18:_context7.prev=18;_context7.t0=_context7[\"catch\"](1);console.log(\"Error @uploadProfilePhoto\",_context7.t0);case 21:case\"end\":return _context7.stop();}}},null,null,[[1,18]],Promise);},uploadGroupPhoto:function uploadGroupPhoto(uri,GroupID){var photo,imagesRef,uidRef,url,_GroupRef;return _regeneratorRuntime.async(function uploadGroupPhoto$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;console.log(\"1\");_context8.next=4;return _regeneratorRuntime.awrap(Firebase.getBlob(uri));case 4:photo=_context8.sent;imagesRef=ref(storage,'GroupPhotos');uidRef=ref(imagesRef,GroupID);_context8.next=9;return _regeneratorRuntime.awrap(uploadBytes(uidRef,photo));case 9:console.log(\"2\");_context8.next=12;return _regeneratorRuntime.awrap(getDownloadURL(ref(storage,uidRef)));case 12:url=_context8.sent;_GroupRef=doc(db,\"groups\",GroupID);_context8.next=16;return _regeneratorRuntime.awrap(updateDoc(_GroupRef,{GroupPhotoUrl:url}));case 16:console.log(\"3\");return _context8.abrupt(\"return\",url);case 20:_context8.prev=20;_context8.t0=_context8[\"catch\"](0);console.log(\"Error @uploadGroupPhoto\",_context8.t0);case 23:case\"end\":return _context8.stop();}}},null,null,[[0,20]],Promise);},getBlob:function getBlob(uri){return _regeneratorRuntime.async(function getBlob$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _regeneratorRuntime.awrap(new Promise(function(resolve,reject){var xhr=new XMLHttpRequest();xhr.onload=function(){resolve(xhr.response);};xhr.onerror=function(){reject(new TypeError(\"Network request failed\"));};xhr.responseType=\"blob\";xhr.open(\"GET\",uri,true);xhr.send(null);}));case 2:return _context9.abrupt(\"return\",_context9.sent);case 3:case\"end\":return _context9.stop();}}},null,null,null,Promise);},getUserInfo:function getUserInfo(uid){var docRef,_user;return _regeneratorRuntime.async(function getUserInfo$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;docRef=doc(db,\"users\",uid);_context10.next=4;return _regeneratorRuntime.awrap(getDoc(docRef));case 4:_user=_context10.sent;if(!_user.exists()){_context10.next=9;break;}return _context10.abrupt(\"return\",_user.data());case 9:console.log(\"Can't get document @getUserInfo!\");case 10:_context10.next=15;break;case 12:_context10.prev=12;_context10.t0=_context10[\"catch\"](0);console.log(\"error @getUserInfo\",_context10.t0);case 15:case\"end\":return _context10.stop();}}},null,null,[[0,12]],Promise);},SignOutUser:function SignOutUser(){return _regeneratorRuntime.async(function SignOutUser$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;_context11.next=3;return _regeneratorRuntime.awrap(SecureStore.deleteItemAsync(\"User\"));case 3:_context11.next=5;return _regeneratorRuntime.awrap(signOut(auth));case 5:return _context11.abrupt(\"return\",true);case 8:_context11.prev=8;_context11.t0=_context11[\"catch\"](0);console.log(\"Error @SignOutUser\",_context11.t0);case 11:return _context11.abrupt(\"return\",false);case 12:case\"end\":return _context11.stop();}}},null,null,[[0,8]],Promise);},SignInUser:function SignInUser(email,password){return _regeneratorRuntime.async(function SignInUser$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return _regeneratorRuntime.awrap(signInWithEmailAndPassword(auth,email,password));case 3:_context12.next=8;break;case 5:_context12.prev=5;_context12.t0=_context12[\"catch\"](0);console.log(\"Error @SignInUser\",_context12.t0);case 8:case\"end\":return _context12.stop();}}},null,null,[[0,5]],Promise);},SignInUserWithFacebook:function SignInUserWithFacebook(){var provider,result,_user2,credential,token;return _regeneratorRuntime.async(function SignInUserWithFacebook$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.prev=0;provider=new FacebookAuthProvider();console.log(provider);_context13.next=5;return _regeneratorRuntime.awrap(signInWithRedirect(auth,provider));case 5:_context13.next=7;return _regeneratorRuntime.awrap(getRedirectResult(auth));case 7:result=_context13.sent;if(result){_user2=result.user;credential=FacebookAuthProvider.credentialFromResult(result);token=credential.accessToken;}_context13.next=14;break;case 11:_context13.prev=11;_context13.t0=_context13[\"catch\"](0);console.log(\"Error @SignInUserWithFacebook\",_context13.t0);case 14:case\"end\":return _context13.stop();}}},null,null,[[0,11]],Promise);},DeleteUser:function DeleteUser(){var _user3;return _regeneratorRuntime.async(function DeleteUser$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:try{_user3=auth.currentUser;deleteUser(_user3);}catch(error){console.log(\"Error @DeleteUser\",error);}case 1:case\"end\":return _context14.stop();}}},null,null,null,Promise);},ResetPassword:function ResetPassword(email){return _regeneratorRuntime.async(function ResetPassword$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.prev=0;_context15.next=3;return _regeneratorRuntime.awrap(sendPasswordResetEmail(auth,email));case 3:return _context15.abrupt(\"return\",_context15.sent);case 6:_context15.prev=6;_context15.t0=_context15[\"catch\"](0);console.log(\"Error @ResetPassword\",_context15.t0);case 9:case\"end\":return _context15.stop();}}},null,null,[[0,6]],Promise);},UpdateEmail:function UpdateEmail(email){var _uid2,docRef;return _regeneratorRuntime.async(function UpdateEmail$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.prev=0;_uid2=Firebase.getCurrentUser().uid;_context16.next=4;return _regeneratorRuntime.awrap(updateEmail(_uid2,email));case 4:docRef=doc(db,\"users\",_uid2);_context16.next=7;return _regeneratorRuntime.awrap(updateDoc(docRef,{email:email}));case 7:_context16.next=12;break;case 9:_context16.prev=9;_context16.t0=_context16[\"catch\"](0);console.log(\"Error @UpdateEmail\",_context16.t0);case 12:case\"end\":return _context16.stop();}}},null,null,[[0,9]],Promise);},UpdatePassword:function UpdatePassword(password){return _regeneratorRuntime.async(function UpdatePassword$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.prev=0;_context17.next=3;return _regeneratorRuntime.awrap(updatePassword(currentUser,password));case 3:_context17.next=8;break;case 5:_context17.prev=5;_context17.t0=_context17[\"catch\"](0);console.log(\"Error @UpdatePassword\",_context17.t0);case 8:case\"end\":return _context17.stop();}}},null,null,[[0,5]],Promise);},UpdateUsername:function UpdateUsername(NewUsername){var _uid3,docRef;return _regeneratorRuntime.async(function UpdateUsername$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.prev=0;_uid3=Firebase.getCurrentUser().uid;docRef=doc(db,\"users\",_uid3);_context18.next=5;return _regeneratorRuntime.awrap(updateDoc(docRef,{username:NewUsername}));case 5:_context18.next=10;break;case 7:_context18.prev=7;_context18.t0=_context18[\"catch\"](0);console.log(\"Error @updateUsername\",_context18.t0);case 10:case\"end\":return _context18.stop();}}},null,null,[[0,7]],Promise);},retrieveQR:function retrieveQR(){return _regeneratorRuntime.async(function retrieveQR$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:try{}catch(_unused){console.log(\"Could not retrive QR\");}case 1:case\"end\":return _context19.stop();}}},null,null,null,Promise);},CreateNewGroup:function CreateNewGroup(Group){var _uid4,UserRef,GroupPhotoUrl;return _regeneratorRuntime.async(function CreateNewGroup$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_context20.prev=0;_uid4=Firebase.getCurrentUser().uid;UserRef=doc(db,\"users\",_uid4);_context20.next=5;return _regeneratorRuntime.awrap(updateDoc(UserRef,{groups:arrayUnion(Group.GroupID)}));case 5:GroupPhotoUrl=\"default\";_context20.next=8;return _regeneratorRuntime.awrap(setDoc(doc(db,\"groups\",Group.GroupID),{groupname:Group.Groupname,groupID:Group.GroupID,color:Group.Color,members:[_uid4],privacy:Group.Privacy,GroupPhotoUrl:GroupPhotoUrl}));case 8:if(!Group.GroupPhoto){_context20.next=12;break;}_context20.next=11;return _regeneratorRuntime.awrap(Firebase.uploadGroupPhoto(Group.GroupPhoto,Group.GroupID));case 11:GroupPhotoUrl=_context20.sent;case 12:Firebase.CacheGroupData();_context20.next=18;break;case 15:_context20.prev=15;_context20.t0=_context20[\"catch\"](0);console.log(\"Error @CreateNewGroup\",_context20.t0);case 18:case\"end\":return _context20.stop();}}},null,null,[[0,15]],Promise);},RetriveGroupData:function RetriveGroupData(){var _uid5,snap;return _regeneratorRuntime.async(function RetriveGroupData$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:_context21.prev=0;_uid5=Firebase.getCurrentUser().uid;_context21.next=4;return _regeneratorRuntime.awrap(getDoc(doc(db,\"users\",_uid5)));case 4:snap=_context21.sent;return _context21.abrupt(\"return\",snap.data().groups);case 8:_context21.prev=8;_context21.t0=_context21[\"catch\"](0);console.log(\"Error @RetriveGroupData\",_context21.t0);case 11:case\"end\":return _context21.stop();}}},null,null,[[0,8]],Promise);},LoadGroups:function LoadGroups(array){var objectList,arrayLength,i,Snap;return _regeneratorRuntime.async(function LoadGroups$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.prev=0;objectList=[];arrayLength=array.length;i=0;case 4:if(!(i<arrayLength)){_context22.next=12;break;}_context22.next=7;return _regeneratorRuntime.awrap(getDoc(doc(db,\"groups\",array[i])));case 7:Snap=_context22.sent;objectList.push({groupname:Snap.data().groupname,groupID:Snap.data().groupID,color:Snap.data().color,members:Snap.data().members,privacy:Snap.data().privacy,GroupPhotoUrl:Snap.data().GroupPhotoUrl});case 9:i++;_context22.next=4;break;case 12:;return _context22.abrupt(\"return\",objectList);case 16:_context22.prev=16;_context22.t0=_context22[\"catch\"](0);console.log(\"Could not Load Groups\",_context22.t0);case 19:case\"end\":return _context22.stop();}}},null,null,[[0,16]],Promise);},LeaveGroup:function LeaveGroup(GroupID){var _uid6,UserRef,_GroupRef2;return _regeneratorRuntime.async(function LeaveGroup$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:_context23.prev=0;_uid6=Firebase.getCurrentUser().uid;UserRef=doc(db,\"users\",_uid6);_context23.next=5;return _regeneratorRuntime.awrap(updateDoc(UserRef,{groups:arrayRemove(GroupID)}));case 5:_GroupRef2=doc(db,\"groups\",GroupID);_context23.next=8;return _regeneratorRuntime.awrap(updateDoc(_GroupRef2,{members:arrayRemove(_uid6)}));case 8:_context23.next=13;break;case 10:_context23.prev=10;_context23.t0=_context23[\"catch\"](0);console.log(\"Error @LeaveGroup\",_context23.t0);case 13:case\"end\":return _context23.stop();}}},null,null,[[0,10]],Promise);},JoinGroup:function JoinGroup(GroupID){var _uid7,UserRef,_GroupRef3,arrayObject,Snap;return _regeneratorRuntime.async(function JoinGroup$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:_context24.prev=0;_uid7=Firebase.getCurrentUser().uid;UserRef=doc(db,\"users\",_uid7);_context24.next=5;return _regeneratorRuntime.awrap(updateDoc(UserRef,{groups:arrayUnion(GroupID)}));case 5:_GroupRef3=doc(db,\"groups\",GroupID);_context24.next=8;return _regeneratorRuntime.awrap(updateDoc(_GroupRef3,{members:arrayUnion(_uid7)}));case 8:arrayObject=[];_context24.next=11;return _regeneratorRuntime.awrap(getDoc(doc(db,\"groups\",GroupID)));case 11:Snap=_context24.sent;arrayObject.push({groupname:Snap.data().groupname,groupID:Snap.data().groupID,color:Snap.data().color,members:Snap.data().members,privacy:Snap.data().privacy,GroupPhotoUrl:Snap.data().GroupPhotoUrl});console.log(arrayObject);Firebase.CacheGroupData(arrayObject);_context24.next=20;break;case 17:_context24.prev=17;_context24.t0=_context24[\"catch\"](0);console.log(\"Error @JoinGroup\",_context24.t0);case 20:case\"end\":return _context24.stop();}}},null,null,[[0,17]],Promise);},AddMemberToGroup:function AddMemberToGroup(member){var docRef;return _regeneratorRuntime.async(function AddMemberToGroup$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:_context25.prev=0;docRef=doc(db,\"users\",uid);_context25.next=4;return _regeneratorRuntime.awrap(updateDoc(docRef,{Member:member}));case 4:_context25.next=9;break;case 6:_context25.prev=6;_context25.t0=_context25[\"catch\"](0);console.log(\"Error @AddToGroup\",_context25.t0);case 9:case\"end\":return _context25.stop();}}},null,null,[[0,6]],Promise);},AddTask:function AddTask(){return _regeneratorRuntime.async(function AddTask$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:_context26.prev=0;_context26.next=3;return _regeneratorRuntime.awrap(setDoc(doc(db,\"users\",uid),{username:user.username,email:user.email,profilePhotoUrl:profilePhotoUrl}));case 3:_context26.next=8;break;case 5:_context26.prev=5;_context26.t0=_context26[\"catch\"](0);console.log(\"Error @AddTask\",_context26.t0);case 8:case\"end\":return _context26.stop();}}},null,null,[[0,5]],Promise);},UpdateTask:function UpdateTask(){var docRef;return _regeneratorRuntime.async(function UpdateTask$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:_context27.prev=0;docRef=doc(db,\"users\",uid);_context27.next=4;return _regeneratorRuntime.awrap(updateDoc(docRef,{TaskName:TaskName,Frequency:Frequency}));case 4:_context27.next=9;break;case 6:_context27.prev=6;_context27.t0=_context27[\"catch\"](0);console.log(\"Error @UpdateTask\",_context27.t0);case 9:case\"end\":return _context27.stop();}}},null,null,[[0,6]],Promise);},AddRoutine:function AddRoutine(TaskName,frequency,Members){return _regeneratorRuntime.async(function AddRoutine$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:_context28.prev=0;_context28.next=3;return _regeneratorRuntime.awrap(setDoc(doc(db,\"users\",uid),{username:user.username,email:user.email,profilePhotoUrl:profilePhotoUrl}));case 3:_context28.next=8;break;case 5:_context28.prev=5;_context28.t0=_context28[\"catch\"](0);console.log(\"Error @AddRutine\",_context28.t0);case 8:case\"end\":return _context28.stop();}}},null,null,[[0,5]],Promise);},UpdateRoutine:function UpdateRoutine(TaskName,frequency,Members){var docRef;return _regeneratorRuntime.async(function UpdateRoutine$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:_context29.prev=0;docRef=doc(db,\"users\",uid);_context29.next=4;return _regeneratorRuntime.awrap(updateDoc(docRef,{TaskName:TaskName,Frequency:Frequency}));case 4:_context29.next=9;break;case 6:_context29.prev=6;_context29.t0=_context29[\"catch\"](0);console.log(\"Error @UpdateRutine\",_context29.t0);case 9:case\"end\":return _context29.stop();}}},null,null,[[0,6]],Promise);},TaskComplete:function TaskComplete(){return _regeneratorRuntime.async(function TaskComplete$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:try{}catch(error){console.log(\"Error @TaskComplete\",error);}case 1:case\"end\":return _context30.stop();}}},null,null,null,Promise);},StayLoggedIn:function StayLoggedIn(){return _regeneratorRuntime.async(function StayLoggedIn$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:try{}catch(error){console.log(\"Error @StayLoggedIn\",error);}case 1:case\"end\":return _context31.stop();}}},null,null,null,Promise);},RetriveMessages:function RetriveMessages(){var DocRef,q;return _regeneratorRuntime.async(function RetriveMessages$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:try{s;DocRef=doc(db,\"chats\",\"snusken\");q=query(DocRef,orderBy(\"createdAt\",\"desc\"));onSnapshot(q,function(querySnapshot){var MessageArray=[];querySnapshot.forEach(function(doc){MessageArray.push(doc.data());console.log(\"retrived messages\",MessageArray);return MessageArray;});});}catch(error){console.log(\"Error @RetriveMessages\",error);}case 1:case\"end\":return _context32.stop();}}},null,null,null,Promise);},SendMessage:function SendMessage(text){var uid;return _regeneratorRuntime.async(function SendMessage$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:uid=Firebase.getCurrentUser().uid;_context33.prev=1;_context33.next=4;return _regeneratorRuntime.awrap(setDoc(doc(db,\"chats\",\"snusken\"),{id:uid,text:text}));case 4:_context33.next=9;break;case 6:_context33.prev=6;_context33.t0=_context33[\"catch\"](1);console.log(\"Error @SendMessage\",_context33.t0);case 9:case\"end\":return _context33.stop();}}},null,null,[[1,6]],Promise);},RetrivingMessages:function RetrivingMessages(text){return _regeneratorRuntime.async(function RetrivingMessages$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:setState({readError:null});try{database.ref(\"chats\").on(\"value\",function(snapshot){var chats=[];snapshot.forEach(function(snap){chats.push(snap.val());});setState({chats:chats});});}catch(error){setState({readError:error.message});}case 2:case\"end\":return _context34.stop();}}},null,null,null,Promise);},SendingMessages:function SendingMessages(text){return _regeneratorRuntime.async(function SendingMessages$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:preventDefault();setState({writeError:null});_context35.prev=2;_context35.next=5;return _regeneratorRuntime.awrap(db.ref(\"chats\").push({content:state.content,timestamp:Date.now(),uid:state.user.uid}));case 5:setState({content:''});_context35.next=11;break;case 8:_context35.prev=8;_context35.t0=_context35[\"catch\"](2);setState({writeError:_context35.t0.message});case 11:case\"end\":return _context35.stop();}}},null,null,[[2,8]],Promise);},RetriveFeed:function RetriveFeed(SortSettings){var objectList,GroupArray,groups,i,docRef,collectionRef,q,querySnapshot,SortedFeed;return _regeneratorRuntime.async(function RetriveFeed$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:objectList=[];GroupArray=[];_context36.prev=2;_context36.next=5;return _regeneratorRuntime.awrap(Firebase.RetriveGroupsStorage());case 5:groups=_context36.sent;groups.forEach(function(doc){GroupArray.push({groupname:doc.groupID});});i=0;case 8:if(!(i<GroupArray.length)){_context36.next=19;break;}docRef=doc(db,\"groups\",GroupArray[i].groupname);collectionRef=collection(docRef,\"posts\");q=query(collectionRef,orderBy(\"id\"),limit(3));_context36.next=14;return _regeneratorRuntime.awrap(getDocs(q));case 14:querySnapshot=_context36.sent;querySnapshot.forEach(function(doc){objectList.push({id:doc.data().id,user:doc.data().user,avatar:doc.data().avatar,postedAt:doc.data().postedAt,post:doc.data().post,Upvotes:doc.data().Upvotes,Downvotes:doc.data().Downvotes});});case 16:i++;_context36.next=8;break;case 19:return _context36.abrupt(\"return\",objectList);case 23:_context36.prev=23;_context36.t0=_context36[\"catch\"](2);console.log(\"Error @RetriveFeed\",_context36.t0);case 26:case\"end\":return _context36.stop();}}},null,null,[[2,23]],Promise);},AddPost:function AddPost(post,groupID){var docRef;return _regeneratorRuntime.async(function AddPost$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:docRef=doc(db,\"groups\",groupID);_context37.prev=1;_context37.next=4;return _regeneratorRuntime.awrap(setDoc(doc(docRef,\"posts\",post.id),{id:post.id,user:post.user,avatar:post.avatar,postedAt:post.postedAt,post:post.post,Upvotes:post.Upvotes,Downvotes:post.Downvotes}));case 4:_context37.next=9;break;case 6:_context37.prev=6;_context37.t0=_context37[\"catch\"](1);console.log(\"Error @AddPost\",_context37.t0);case 9:case\"end\":return _context37.stop();}}},null,null,[[1,6]],Promise);},UpdatePost:function UpdatePost(post,groupID){var docRef,postRef;return _regeneratorRuntime.async(function UpdatePost$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:docRef=doc(db,\"groups\",groupID);postRef=doc(docRef,\"\",\"\");try{updateDoc(postRef,post);}catch(_unused2){console.log(\"Error @UpdatePost\");}case 3:case\"end\":return _context38.stop();}}},null,null,null,Promise);},RetriveGroupsStorage:function RetriveGroupsStorage(){var value,parsedJson,groups,objectArray,jsonValue;return _regeneratorRuntime.async(function RetriveGroupsStorage$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_context39.prev=0;_context39.next=3;return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"groups\"));case 3:value=_context39.sent;if(!(value!==null)){_context39.next=9;break;}parsedJson=JSON.parse(value);return _context39.abrupt(\"return\",parsedJson);case 9:_context39.next=11;return _regeneratorRuntime.awrap(Firebase.RetriveGroupData());case 11:groups=_context39.sent;_context39.next=14;return _regeneratorRuntime.awrap(Firebase.LoadGroups(groups));case 14:objectArray=_context39.sent;jsonValue=JSON.stringify(objectArray);_context39.next=18;return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"groups\",jsonValue));case 18:return _context39.abrupt(\"return\",objectArray);case 19:_context39.next=24;break;case 21:_context39.prev=21;_context39.t0=_context39[\"catch\"](0);console.log(\"Error @RetriveGroupsStorage\",_context39.t0);case 24:case\"end\":return _context39.stop();}}},null,null,[[0,21]],Promise);},SortGroupFeed:function SortGroupFeed(posts,sortsettings){return _regeneratorRuntime.async(function SortGroupFeed$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:try{if(sortsettings===\"recent\"){}if(sortsettings===\"upvotes\"){}}catch(error){console.log(\"Error @SortGroupFeed\",error);}case 1:case\"end\":return _context40.stop();}}},null,null,null,Promise);},ExplorationFeed:function ExplorationFeed(){var objectList,q,querySnapshot;return _regeneratorRuntime.async(function ExplorationFeed$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:_context41.prev=0;objectList=[];q=query(collection(db,\"groups\"),where(\"privacy\",\"==\",false));_context41.next=5;return _regeneratorRuntime.awrap(getDocs(q));case 5:querySnapshot=_context41.sent;querySnapshot.forEach(function(doc){objectList.push({groupID:doc.data().groupID,groupname:doc.data().groupname,GroupPhotoUrl:doc.data().GroupPhotoUrl});});return _context41.abrupt(\"return\",objectList);case 10:_context41.prev=10;_context41.t0=_context41[\"catch\"](0);console.log(\"Error @ExplorationFeed\",_context41.t0);case 13:case\"end\":return _context41.stop();}}},null,null,[[0,10]],Promise);},ProfileTheUser:function ProfileTheUser(){return _regeneratorRuntime.async(function ProfileTheUser$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:try{}catch(error){console.log(\"Error @ProfileTheUser\",error);}case 1:case\"end\":return _context42.stop();}}},null,null,null,Promise);},SearchForCommunities:function SearchForCommunities(Query){var groupList,q,querySnapshot;return _regeneratorRuntime.async(function SearchForCommunities$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:_context43.prev=0;groupList=[];q=query(GroupRef,where(\"groupname\",\"==\",\"Query\"));_context43.next=5;return _regeneratorRuntime.awrap(getDocs(q));case 5:querySnapshot=_context43.sent;querySnapshot.forEach(function(doc){groupList.push({groupID:doc.data().groupID,groupname:doc.data().groupname,GroupPhotoUrl:doc.data().GroupPhotoUrl});console.log(groupList);return groupList;});_context43.next=12;break;case 9:_context43.prev=9;_context43.t0=_context43[\"catch\"](0);console.log(\"Error @SearchForCommunities\",_context43.t0);case 12:case\"end\":return _context43.stop();}}},null,null,[[0,9]],Promise);}};var FirebaseProvider=function FirebaseProvider(props){return _jsx(FirebaseContext.Provider,{value:Firebase,children:props.children});};export{FirebaseContext,FirebaseProvider};","map":{"version":3,"names":["React","createContext","useState","useEffect","useLayoutEffect","useCallback","AsyncStorage","initializeApp","getAuth","deleteUser","sendPasswordResetEmail","signOut","updatePassword","updateEmail","FacebookAuthProvider","getRedirectResult","signInWithRedirect","getStorage","ref","uploadBytes","getDownloadURL","getFirestore","setDoc","doc","updateDoc","getDoc","addDoc","orderBy","query","onSnapshot","collection","arrayUnion","arrayRemove","limit","getDocs","where","config","signInWithEmailAndPassword","createUserWithEmailAndPassword","SecureStore","getDatabase","app","storage","auth","db","FirebaseContext","database","Firebase","CacheUserContext","user","jsonValue","JSON","stringify","setItem","CacheGroupData","RetriveGroupData","groups","LoadGroups","objectArray","RemoveCacheGroupData","groupID","getItem","value","parsedJson","parse","console","log","indexOfObject","findIndex","object","splice","length","removeItem","ClearCacheGroupData","ValidateSignUpForm","email","password","UserRef","q","message","getCurrentUser","currentUser","createUser","uid","profilePhotoUrl","username","profilePhoto","uploadProfilePhoto","uri","getBlob","photo","imagesRef","uidRef","url","docRef","uploadGroupPhoto","GroupID","GroupRef","GroupPhotoUrl","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","TypeError","responseType","open","send","getUserInfo","exists","data","SignOutUser","deleteItemAsync","SignInUser","SignInUserWithFacebook","provider","result","credential","credentialFromResult","token","accessToken","DeleteUser","error","ResetPassword","UpdateEmail","UpdatePassword","UpdateUsername","NewUsername","retrieveQR","CreateNewGroup","Group","groupname","Groupname","color","Color","members","privacy","Privacy","GroupPhoto","snap","array","objectList","arrayLength","i","Snap","push","LeaveGroup","JoinGroup","arrayObject","AddMemberToGroup","member","Member","AddTask","UpdateTask","TaskName","Frequency","AddRoutine","frequency","Members","UpdateRoutine","TaskComplete","StayLoggedIn","RetriveMessages","s","DocRef","querySnapshot","MessageArray","forEach","SendMessage","text","id","RetrivingMessages","setState","readError","on","snapshot","chats","val","SendingMessages","preventDefault","writeError","content","state","timestamp","Date","now","RetriveFeed","SortSettings","GroupArray","RetriveGroupsStorage","collectionRef","avatar","postedAt","post","Upvotes","Downvotes","AddPost","UpdatePost","postRef","SortGroupFeed","posts","sortsettings","ExplorationFeed","ProfileTheUser","SearchForCommunities","Query","groupList","FirebaseProvider","props","children"],"sources":["/Users/havardskjaerstein/Desktop/Achive/context/FirebaseContext.js"],"sourcesContent":["import React, {createContext, useState,useEffect,\n        useLayoutEffect,useCallback } from \"react\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { initializeApp } from 'firebase/app';\nimport {getAuth, \n  deleteUser, \n  sendPasswordResetEmail, \n  signOut, \n  updatePassword, \n  updateEmail, \n  FacebookAuthProvider,\n  getRedirectResult,\n  signInWithRedirect,\n\n  } from \"firebase/auth\";\nimport {getStorage, \n  ref,\n  uploadBytes, \n  getDownloadURL, \n  } from \"firebase/storage\";\nimport {getFirestore, \n  setDoc, \n  doc, \n  updateDoc,\n  getDoc, \n  addDoc,\n  orderBy,\n  query,\n  onSnapshot,\n  collection,\n  arrayUnion,\n  arrayRemove, limit, getDocs, where, \n  } from \"firebase/firestore\";\nimport config from \"../config/Firebase\"\nimport {signInWithEmailAndPassword, createUserWithEmailAndPassword} from \"firebase/auth\"; \nimport * as SecureStore from 'expo-secure-store';\n\nimport { getDatabase } from \"firebase/database\";\n\n// Initialize Firebase\nconst app = initializeApp(config);\nconst storage = getStorage(app);\nconst auth = getAuth(app);\nconst db = getFirestore(app); \nconst FirebaseContext = createContext(); \nconst database = getDatabase(app);\n\n// DOCS: \n//https://firebase.google.com/docs\n\nconst Firebase = {\n\n  CacheUserContext: async (user) => {\n\n    const jsonValue = JSON.stringify(user)\n    await AsyncStorage.setItem(\"User\", jsonValue)\n  },    \n\n  //hent ting fra databasen for å oppdatere. Ikke fra telefonen. Consistency\n  CacheGroupData: async () => {\n\n      //henter ut hvilken grupper brukeren tilhører \n      const groups = await Firebase.RetriveGroupData(); \n\n      //returnerer et array av json objekter\n      const objectArray = await Firebase.LoadGroups(groups); \n\n      const jsonValue = JSON.stringify(objectArray)\n      await AsyncStorage.setItem(\n        \"groups\",\n        jsonValue\n      );\n  },\n\n  RemoveCacheGroupData: async (groupID) => {\n\n    const value = await AsyncStorage.getItem(\"groups\");\n    if (value !== null) {\n      //Hent ut data fra async storage\n      const parsedJson = JSON.parse(value)\n      console.log(parsedJson)\n\n      const indexOfObject = parsedJson.findIndex(object => {\n        return object.groupID === groupID;\n      });\n      \n      parsedJson.splice(indexOfObject, 1);\n      console.log(parsedJson)\n\n      //prøver å stringifye en tom \n      if (parsedJson.length === 0) {\n         console.log(\"Array is empty!\") \n         AsyncStorage.removeItem(\"groups\")\n        return 1; \n      }\n\n      //check if the array is empty. If it is put Null inside it. \n      const jsonValue = JSON.stringify(parsedJson)\n      await AsyncStorage.setItem(\n        \"groups\",\n        jsonValue\n      );\n\n      return parsedJson; \n\n    }else{\n     console.log(\" no groups to remove in persistent storage\") \n    }\n },  \n\n ClearCacheGroupData: async () => {\n\n  const value = await AsyncStorage.getItem(\"groups\");\n  if (value !== null) {\n\n    AsyncStorage.removeItem(\"groups\")\n\n  }else{\n   console.log(\" no groups to remove in persistent storage\") \n  }\n},  \n\nValidateSignUpForm: async (email, password) => {\n  try{\n\n    console.log(\"email\",email)\n    //query databasen for en epost\n    const UserRef = collection(db, \"user\");\n    console.log(UserRef)\n    const q = query(UserRef, where(\"email\", \"==\", email));\n    console.log(\"q\",q)\n\n    if(q != null){\n      return 2; \n    } \n\n    //Sjekk først om legden på passordet er bra nok \n    if(password.length < 6){\n      return 1; \n    } \n    //Sjekk med databasen om en bruker har samme epost, brukernavn \n    return; \n  \n  } catch(error) {\n    console.log(\"Error @ValidateSignUpForm:\", error.message)\n  }\n},  \n\n  getCurrentUser: () => {\n    return auth.currentUser; \n  },\n\n  createUser: async (user) => {\n\n    try{\n      await createUserWithEmailAndPassword(auth, user.email, user.password);\n\n      const uid = Firebase.getCurrentUser().uid;\n\n      let profilePhotoUrl = \"default\";\n\n      console.log(\"Sets the docs to database\")\n      \n      await setDoc(doc(db, \"users\", uid), {\n        username: user.username, \n        email: user.email,\n        password: user.password,\n        profilePhotoUrl, \n        groups:[],\n       });\n\n      if(user.profilePhoto){\n        profilePhotoUrl = await Firebase.uploadProfilePhoto(user.profilePhoto)\n      }\n\n      delete user.password; \n      return{...user, profilePhotoUrl, uid}; \n\n    } catch(error) {\n      console.log(\"Error @createUser:\", error.message)\n    }\n  },\n\n  uploadProfilePhoto: async (uri) => {\n\n    const uid = Firebase.getCurrentUser().uid; \n\n    try{\n      const photo = await Firebase.getBlob(uri)\n      const imagesRef = ref(storage, 'profilePhotos');\n      const uidRef = ref(imagesRef, uid);\n\n      await uploadBytes(uidRef, photo); \n\n      const url = await getDownloadURL(ref(storage, uidRef)); \n      const docRef = doc(db, \"users\", uid);\n\n      await updateDoc(docRef, {\n        profilePhotoUrl: url\n     });\n      return url; \n\n    }catch(error){\n      console.log(\"Error @uploadProfilePhoto\", error)\n    }\n  },\n\n  uploadGroupPhoto: async (uri, GroupID) => {\n\n    try{\n      console.log(\"1\")\n      const photo = await Firebase.getBlob(uri)\n      const imagesRef = ref(storage, 'GroupPhotos');\n      const uidRef = ref(imagesRef, GroupID);\n\n      await uploadBytes(uidRef, photo); \n      console.log(\"2\")\n      const url = await getDownloadURL(ref(storage, uidRef)); \n      const GroupRef = doc(db, \"groups\", GroupID);\n\n      await updateDoc(GroupRef, {\n        GroupPhotoUrl: url\n     });\n     console.log(\"3\")\n      return url; \n\n    }catch(error){\n      console.log(\"Error @uploadGroupPhoto\", error)\n    }\n  },\n    \n  getBlob: async(uri) => {\n    return await new Promise((resolve, reject) => {\n      //creates XHR object\n      const xhr = new XMLHttpRequest()\n      xhr.onload = () => {\n        resolve(xhr.response)\n      };\n      xhr.onerror = () => {\n        reject(new TypeError(\"Network request failed\"))\n      };\n      xhr.responseType = \"blob\";\n      //takes in three arguments, type of request, url/file, async or not\n      xhr.open(\"GET\", uri, true); \n      xhr.send(null);\n    })\n  },\n\n  getUserInfo: async (uid) => {\n    try{\n      const docRef = doc(db, \"users\", uid);\n      const user = await getDoc(docRef);\n\n      if(user.exists()){\n        return user.data(); \n      }else{\n        console.log(\"Can't get document @getUserInfo!\");\n        \n      }\n      }catch(error){\n        console.log(\"error @getUserInfo\", error)\n      }\n    },\n\n  SignOutUser: async () => {\n    try{\n\n      await SecureStore.deleteItemAsync(\"User\");\n    \n      await signOut(auth);\n      return true; \n\n    }catch(error){\n      console.log(\"Error @SignOutUser\", error)\n    }\n    return false; \n  }, \n\n  SignInUser: async (email, password) => {\n    try{\n      await signInWithEmailAndPassword(auth, email, password); \n    }catch(error){\n      console.log(\"Error @SignInUser\", error)\n    }\n  },\n\n  SignInUserWithFacebook: async () => {\n    try{\n      const provider = new FacebookAuthProvider();\n      console.log(provider)\n      // This will trigger a full page redirect away from your app\n      await signInWithRedirect(auth, provider);\n      // After returning from the redirect when your app initializes you can obtain the result\n      const result = await getRedirectResult(auth);\n      if (result) {\n        // This is the signed-in user\n        const user = result.user;\n        // This gives you a Facebook Access Token.\n        const credential = FacebookAuthProvider.credentialFromResult(result);\n        const token = credential.accessToken;\n      }\n    }catch(error){\n      console.log(\"Error @SignInUserWithFacebook\", error)\n    }\n  },\n  DeleteUser: async () => {\n    try{\n      const user = auth.currentUser\n      deleteUser(user); \n    }catch(error){\n      console.log(\"Error @DeleteUser\", error)\n    }\n  }, \n\n  ResetPassword: async (email) => {\n    try{\n      return await sendPasswordResetEmail(auth, email); \n    }catch(error){\n      console.log(\"Error @ResetPassword\", error)\n    }\n  },\n\n  UpdateEmail: async (email) => {\n    try{\n      const uid = Firebase.getCurrentUser().uid; \n      await updateEmail(uid, email); \n\n      const docRef = doc(db, \"users\", uid);\n      //Update the database with the new email address\n      await updateDoc(docRef, {\n        email: email, \n      });\n\n    }catch(error){\n      console.log(\"Error @UpdateEmail\", error)\n    }\n  },\n\n  UpdatePassword: async (password) => {\n    try{\n      await updatePassword(currentUser, password);\n    }catch(error){\n      console.log(\"Error @UpdatePassword\", error)\n    }\n  },\n\n  UpdateUsername: async (NewUsername) => {\n    try{\n      const uid = Firebase.getCurrentUser().uid; \n      const docRef = doc(db, \"users\", uid);\n\n      await updateDoc(docRef, {\n        username: NewUsername, \n      });\n      \n    }catch(error){\n      console.log(\"Error @updateUsername\", error)\n    }\n  },\n\n  retrieveQR: async () => {\n    try{\n\n    } catch {\n      console.log(\"Could not retrive QR\")\n    }\n  }, \n  \n  //For å lage ei helt ny gruppe\n  CreateNewGroup: async (Group) => {\n\n    try{\n      //Gå også inn på user id og oppdater groups\n      const uid = Firebase.getCurrentUser().uid;\n      const UserRef = doc(db, \"users\", uid);\n\n      await updateDoc(UserRef, {\n        groups: arrayUnion(Group.GroupID)\n      });\n\n      let GroupPhotoUrl = \"default\"\n      \n      await setDoc(doc(db, \"groups\", Group.GroupID), {\n        groupname: Group.Groupname, \n        groupID: Group.GroupID, \n        color: Group.Color, \n        members: [uid],\n        privacy: Group.Privacy,\n        GroupPhotoUrl: GroupPhotoUrl\n        \n        //EncodedSVG: encodedData\n        //GroupPicture: picture\n      });\n      \n      if(Group.GroupPhoto){\n        GroupPhotoUrl = await Firebase.uploadGroupPhoto(Group.GroupPhoto, Group.GroupID)\n      }\n\n      //update persistent storage with the new group\n      Firebase.CacheGroupData()\n        \n    }catch(error){\n      console.log(\"Error @CreateNewGroup\", error)\n    }\n  }, \n\n   //Returnerer en liste over hvilke grupper man tilhører \n  RetriveGroupData: async () => {\n    try{\n     \n      const uid = Firebase.getCurrentUser().uid;\n      const snap = await getDoc(doc(db, \"users\", uid));\n      return snap.data().groups; \n      \n    }catch(error){\n      console.log(\"Error @RetriveGroupData\", error)\n    }\n  }, \n  \n  //hent ut objektene til gruppene\n  LoadGroups: async (array) => {\n    try{\n      \n      const objectList = [];\n      var arrayLength = array.length;\n      \n      for (var i = 0; i < arrayLength; i++) {\n        \n        const Snap = await getDoc(doc(db, \"groups\", array[i]))\n\n        objectList.push({\n          groupname: Snap.data().groupname, \n          groupID: Snap.data().groupID, \n          color: Snap.data().color, \n          members: Snap.data().members, \n          privacy: Snap.data().privacy,\n          GroupPhotoUrl: Snap.data().GroupPhotoUrl,\n        })\n      }; \n      \n      //returnerer en Liste med objekter.\n      return objectList; \n\n    } catch(error) {\n      console.log(\"Could not Load Groups\", error)\n    }\n  }, \n\n\n  LeaveGroup: async (GroupID) => {\n    try{\n\n      //updates the users data\n      const uid = Firebase.getCurrentUser().uid;\n      const UserRef = doc(db, \"users\", uid);\n\n      // Atomically remove a region from the \"regions\" array field.\n      await updateDoc(UserRef, {\n          groups: arrayRemove(GroupID)\n      }); \n\n    //updates the group data\n      const GroupRef = doc(db, \"groups\", GroupID);\n      // Atomically remove a region from the \"regions\" array field.\n      await updateDoc(GroupRef, {\n          members: arrayRemove(uid)\n      });\n\n    }catch(error){\n      console.log(\"Error @LeaveGroup\", error)\n    }\n  }, \n\n  JoinGroup: async (GroupID) => {\n\n    try{\n     //updates the users data\n     const uid = Firebase.getCurrentUser().uid;\n     const UserRef = doc(db, \"users\", uid);\n     // Atomically remove a region from the \"regions\" array field.\n     await updateDoc(UserRef, {\n         groups: arrayUnion(GroupID)\n     }); \n \n    //updates the group data\n     const GroupRef = doc(db, \"groups\", GroupID);\n     // Atomically remove a region from the \"regions\" array field.\n     await updateDoc(GroupRef,{\n         members: arrayUnion(uid)\n    });\n\n    //get the group data\n    let arrayObject = [];\n    const Snap = await getDoc(doc(db, \"groups\", GroupID ))\n\n    arrayObject.push({\n      groupname: Snap.data().groupname, \n      groupID: Snap.data().groupID, \n      color: Snap.data().color, \n      members: Snap.data().members, \n      privacy: Snap.data().privacy,\n      GroupPhotoUrl: Snap.data().GroupPhotoUrl,\n    })\n\n    console.log(arrayObject); \n\n    //update persistent storage with the new group\n    Firebase.CacheGroupData(arrayObject)\n    \n    }catch(error){\n      console.log(\"Error @JoinGroup\", error)\n    }\n  }, \n\n  AddMemberToGroup: async (member) => {\n    try{\n      const docRef = doc(db, \"users\", uid);\n      //Update the database with the new email address\n      await updateDoc(docRef, {\n        Member: member, \n      });\n    }catch(error){\n      console.log(\"Error @AddToGroup\", error)\n    }\n  }, \n\n  AddTask: async () => {\n    try{\n      await setDoc(doc(db, \"users\", uid), {\n        username: user.username, \n        email: user.email,\n        profilePhotoUrl, \n       });\n    }catch(error){\n      console.log(\"Error @AddTask\", error)\n    }\n  }, \n\n  UpdateTask: async () => {\n    try{\n\n      const docRef = doc(db, \"users\", uid);\n      //Update the database with the new email address\n      await updateDoc(docRef, {\n        TaskName: TaskName, \n        Frequency: Frequency\n\n      });\n\n    }catch(error){\n      console.log(\"Error @UpdateTask\", error)\n    }\n  }, \n\n  AddRoutine: async (TaskName, frequency, Members) => {\n    try{\n\n      await setDoc(doc(db, \"users\", uid), {\n        username: user.username, \n        email: user.email,\n        profilePhotoUrl, \n       });\n\n    }catch(error){\n      console.log(\"Error @AddRutine\", error)\n    }\n  }, \n\n  UpdateRoutine: async (TaskName, frequency, Members) => {\n    try{\n      const docRef = doc(db, \"users\", uid);\n      //Update the database with the new email address\n      await updateDoc(docRef, {\n        TaskName: TaskName, \n        Frequency: Frequency\n\n      });\n\n    }catch(error){\n      console.log(\"Error @UpdateRutine\", error)\n    }\n  }, \n\n  TaskComplete: async () => {\n    try{\n\n    }catch(error){\n      console.log(\"Error @TaskComplete\", error)\n    }\n  }, \n\n  StayLoggedIn: async () => {\n    try{\n\n    }catch(error){\n      console.log(\"Error @StayLoggedIn\", error)\n    }\n  },\n\n  RetriveMessages: async () => {\n    try{\ns\n      const DocRef = doc(db, \"chats\", \"snusken\" );\n      const q = query(DocRef, orderBy(\"createdAt\", \"desc\"));\n      //const taskQuery = doc(collection(db, \"chats\"), where(\"GroupID\", \"==\", groupID))\n      onSnapshot(q, querySnapshot => {\n          const MessageArray = []\n          querySnapshot.forEach((doc) => {\n            MessageArray.push(doc.data())\n            console.log(\"retrived messages\", MessageArray)\n            return MessageArray; \n          })\n      });\n    }catch(error){\n      console.log(\"Error @RetriveMessages\", error)\n      // unsubscribe(); når brukeren går ut av chatterommet\n    }\n  }, \n\n  SendMessage: async (text) => {\n    \n    const uid = Firebase.getCurrentUser().uid;\n\n    try{\n      await setDoc(doc(db, \"chats\", \"snusken\"), {\n        id: uid,\n        text, \n      });\n      }catch(error){\n        console.log(\"Error @SendMessage\", error)\n      }\n    \n    }, \n\n  RetrivingMessages: async (text) => {\n  \n    setState({ readError: null });\n    try {\n      database.ref(\"chats\").on(\"value\", snapshot => {\n        let chats = [];\n        snapshot.forEach((snap) => {\n          chats.push(snap.val());\n        });\n        setState({ chats });\n      });\n    } catch (error) {\n      setState({ readError: error.message });\n    }\n  },\n\n  SendingMessages: async (text) => {\n  \n    preventDefault();\n    setState({ writeError: null });\n    try {\n      await db.ref(\"chats\").push({\n        content: state.content,\n        timestamp: Date.now(),\n        uid: state.user.uid\n      });\n      setState({ content: '' });\n    } catch (error) {\n      setState({ writeError: error.message });\n    }\n  }, \n\n  RetriveFeed: async (SortSettings) => {\n\n    const objectList = [];\n    const GroupArray = [];\n\n    try {\n\n      const groups = await Firebase.RetriveGroupsStorage(); \n      \n      groups.forEach((doc) => {\n        GroupArray.push({\n          groupname: doc.groupID, \n        })\n      })\n\n      for (let i = 0; i < GroupArray.length; i++) {\n\n        const docRef = doc(db, \"groups\", GroupArray[i].groupname); \n        const collectionRef = collection(docRef, \"posts\"); \n  \n        const q = query(collectionRef, orderBy(\"id\"), limit(3));\n        const querySnapshot = await getDocs(q);\n  \n        querySnapshot.forEach((doc) => {\n          \n            objectList.push({\n            id: doc.data().id, \n            user: doc.data().user, \n            avatar: doc.data().avatar, \n            postedAt: doc.data().postedAt, \n            post: doc.data().post,   \n            Upvotes: doc.data().Upvotes, \n            Downvotes: doc.data().Downvotes, \n          })\n        })\n      }\n  \n      return objectList; \n\n      const SortedFeed = SortGroupFeed(objectList, SortSettings); \n\n    }catch (error) {\n      console.log(\"Error @RetriveFeed\", error)\n    }\n  }, \n\nAddPost: async (post, groupID) => {\n  \n  const docRef = doc(db, \"groups\", groupID); \n\n  try{\n    await setDoc(doc(docRef, \"posts\", post.id), {\n      id: post.id, \n      user: post.user, \n      avatar: post.avatar, \n      postedAt: post.postedAt, \n      post: post.post,   \n      Upvotes: post.Upvotes, \n      Downvotes: post.Downvotes\n    });\n\n    }catch(error){\n      console.log(\"Error @AddPost\", error)\n    }\n  }, \n\nUpdatePost: async (post, groupID) => {\n  \n  const docRef = doc(db, \"groups\", groupID); \n  const postRef = doc(docRef, \"\", \"\")\n\n  try{\n    updateDoc(postRef, post)\n  }catch{\n    console.log(\"Error @UpdatePost\")\n  }\n}, \n\nRetriveGroupsStorage: async () => {\n\n  try {\n\n    const value = await AsyncStorage.getItem(\"groups\");\n\n    if (value !== null) {\n      const parsedJson = JSON.parse(value)\n      return parsedJson; \n\n    }else{\n      //henter ut hvilken grupper brukeren tilhører \n      const groups = await Firebase.RetriveGroupData(); \n      //returnerer et array av json objekter\n      const objectArray = await Firebase.LoadGroups(groups); \n\n      const jsonValue = JSON.stringify(objectArray)\n      await AsyncStorage.setItem(\n        \"groups\",\n        jsonValue\n      );\n      return objectArray; \n    }\n  } catch (error) {\n    console.log(\"Error @RetriveGroupsStorage\", error)\n  }\n},\n\nSortGroupFeed: async (posts, sortsettings) => {\n\n  try{\n    /*sorter postene etter \n    -Upvotes \n    -nylige \n    -\n\n    */\n   if(sortsettings === \"recent\"){\n    //sjekker \n\n   }\n   if(sortsettings === \"upvotes\"){\n\n    \n  }\n\n    \n    }catch(error){\n      console.log(\"Error @SortGroupFeed\", error)\n    }\n  }, \n\n  ExplorationFeed: async () => {\n\n  try{\n\n    const objectList = [];\n\n    const q = query(collection(db, \"groups\"), where(\"privacy\", \"==\", false));\n    const querySnapshot = await getDocs(q);\n\n    querySnapshot.forEach((doc) => {\n        objectList.push({\n        groupID: doc.data().groupID, \n        groupname: doc.data().groupname, \n        GroupPhotoUrl: doc.data().GroupPhotoUrl\n      })\n    })\n    \n    return objectList; \n    \n    }catch(error){\n      console.log(\"Error @ExplorationFeed\", error)\n    }\n  }, \n  \n  ProfileTheUser: async () => {\n\n    try{\n      /*\n      Try and make a profile\n      What data points would i need to suggest the best content?\n      -Hvilken type grupper bruker man mest tid i. \n      -Hvilken grupper er andre i samme gruppe med i\n      \n      */\n  \n      \n      }catch(error){\n        console.log(\"Error @ProfileTheUser\", error)\n      }\n    }, \n\n  SearchForCommunities: async (Query) => {\n\n    try{\n\n      const groupList = [];\n\n      const q = query(GroupRef, where(\"groupname\", \"==\", \"Query\"));\n      const querySnapshot = await getDocs(q);\n\n      querySnapshot.forEach((doc) => {\n      \n        groupList.push({\n        groupID: doc.data().groupID, \n        groupname: doc.data().groupname, \n        GroupPhotoUrl: doc.data().GroupPhotoUrl\n      })\n\n      console.log(groupList)\n      return groupList; \n\n    })\n      \n      }catch(error){\n        console.log(\"Error @SearchForCommunities\", error)\n      }\n    }, \n}; \n\n\nconst FirebaseProvider = (props) => {\n    return <FirebaseContext.Provider value={Firebase}>{props.children}</FirebaseContext.Provider>; \n}; \n\nexport {FirebaseContext, FirebaseProvider};"],"mappings":"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"},"metadata":{},"sourceType":"module"}