{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"isHovered\",\"isFocused\",\"isFocusVisible\"],_excluded2=[\"onValueChange\",\"selectedValue\",\"children\",\"dropdownIcon\",\"dropdownCloseIcon\",\"dropdownOpenIcon\",\"placeholder\",\"accessibilityLabel\",\"defaultValue\",\"_item\",\"_selectedItem\",\"onOpen\",\"onClose\",\"optimized\",\"customDropdownIconProps\",\"_actionSheetContent\",\"_actionSheetBody\",\"_webSelect\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{forwardRef,memo}from'react';import Platform from\"react-native-web/dist/exports/Platform\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import{Actionsheet}from\"../../composites/Actionsheet\";import Box from\"../Box\";import{Input}from\"../Input\";import{useFocusRing}from'@react-native-aria/focus';import{useControllableState}from\"../../../hooks\";import{usePropsResolution}from\"../../../hooks/useThemeProps\";import{useHover}from'@react-native-aria/interactions';import{mergeRefs}from\"../../../utils\";import{useFormControl}from\"../../composites/FormControl\";import{ChevronDownIcon}from\"../Icon/Icons\";import{ScrollView}from\"../../basic/ScrollView\";import{extractInObject,stylingProps}from\"../../../theme/tools/utils\";import{FlatList}from\"../../basic/FlatList\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";import{Pressable}from\"../Pressable\";export var SelectContext=React.createContext({onValueChange:function onValueChange(){},selectedValue:null,_selectedItem:{},_item:{}});var Select=function Select(_ref2,ref){var isHoveredProp=_ref2.isHovered,isFocusedProp=_ref2.isFocused,isFocusVisibleProp=_ref2.isFocusVisible,props=_objectWithoutProperties(_ref2,_excluded);var selectProps=useFormControl({isDisabled:props.isDisabled,nativeID:props.nativeID});var flatListData=[];var isDisabled=selectProps.disabled;var tempFix='__NativebasePlaceholder__';var _ref=React.useRef(null);var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isOpen=_React$useState2[0],setIsOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isFocused=_React$useState4[0],setIsFocused=_React$useState4[1];var _useFocusRing=useFocusRing(),focusProps=_useFocusRing.focusProps,isFocusVisible=_useFocusRing.isFocusVisible;var _useHover=useHover({isDisabled:isDisabled},_ref),hoverProps=_useHover.hoverProps,isHovered=_useHover.isHovered;var _usePropsResolution=usePropsResolution('Select',props,{isDisabled:isDisabled,isHovered:isHoveredProp||isHovered,isFocused:isFocusedProp||isFocused,isFocusVisible:isFocusVisibleProp||isFocusVisible},undefined),onValueChange=_usePropsResolution.onValueChange,selectedValue=_usePropsResolution.selectedValue,children=_usePropsResolution.children,dropdownIcon=_usePropsResolution.dropdownIcon,dropdownCloseIcon=_usePropsResolution.dropdownCloseIcon,dropdownOpenIcon=_usePropsResolution.dropdownOpenIcon,placeholder=_usePropsResolution.placeholder,accessibilityLabel=_usePropsResolution.accessibilityLabel,defaultValue=_usePropsResolution.defaultValue,_item=_usePropsResolution._item,_selectedItem=_usePropsResolution._selectedItem,onOpen=_usePropsResolution.onOpen,onClose=_usePropsResolution.onClose,optimized=_usePropsResolution.optimized,customDropdownIconProps=_usePropsResolution.customDropdownIconProps,_actionSheetContent=_usePropsResolution._actionSheetContent,_actionSheetBody=_usePropsResolution._actionSheetBody,_webSelect=_usePropsResolution._webSelect,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);var _useControllableState=useControllableState({value:selectedValue,defaultValue:defaultValue,onChange:function onChange(newValue){onValueChange&&onValueChange(newValue);setIsOpen(false);}}),_useControllableState2=_slicedToArray(_useControllableState,2),value=_useControllableState2[0],setValue=_useControllableState2[1];var itemsList=React.Children.map(children!==null&&children!==void 0?children:[],function(child){return{label:child.props.label,value:child.props.value};});var selectedItemArray=itemsList.filter(function(item){return item.value===value;});var selectedItem=selectedItemArray&&selectedItemArray.length?selectedItemArray[0]:null;var contextValue=React.useMemo(function(){return{onValueChange:setValue,selectedValue:value,_selectedItem:_selectedItem!==null&&_selectedItem!==void 0?_selectedItem:{},_item:_item!==null&&_item!==void 0?_item:{}};},[value,setValue,_selectedItem,_item]);if(useHasResponsiveProps(props)){return null;}var rightIcon=isOpen&&dropdownOpenIcon?dropdownOpenIcon:!isOpen&&dropdownCloseIcon?dropdownCloseIcon:dropdownIcon?dropdownIcon:React.createElement(ChevronDownIcon,customDropdownIconProps);var handleClose=function handleClose(){setIsOpen(false);onClose&&onClose();};if(optimized){React.Children.map(children,function(child){flatListData.push(child.props);});}var _extractInObject=extractInObject(resolvedProps,[].concat(_toConsumableArray(stylingProps.margin),_toConsumableArray(stylingProps.flexbox),_toConsumableArray(stylingProps.position),['shadow','opacity'])),_extractInObject2=_slicedToArray(_extractInObject,1),layoutProps=_extractInObject2[0];var commonInput=React.createElement(Input,_extends({placeholder:placeholder,InputRightElement:rightIcon},resolvedProps,{isFocused:isFocused,isHovered:isHovered,\"aria-hidden\":true,importantForAccessibility:\"no\",value:selectedItem===null||selectedItem===void 0?void 0:selectedItem.label,editable:false,focusable:false,isDisabled:isDisabled}));return Platform.OS==='web'?React.createElement(Box,null,React.createElement(\"select\",_extends({\"aria-readonly\":selectProps.readOnly,required:selectProps.required,disabled:isDisabled},focusProps,hoverProps,{ref:mergeRefs([ref,_ref]),style:_webSelect,onChange:function onChange(e){setValue(e.target.value);},value:selectedItem===null?tempFix:value,\"aria-label\":placeholder,onFocus:function onFocus(){setIsFocused(true);onOpen&&onOpen();},onBlur:function onBlur(){setIsFocused(false);onClose&&onClose();}}),React.createElement(\"option\",{disabled:true,value:tempFix},placeholder),children),commonInput):React.createElement(React.Fragment,null,React.createElement(Pressable,_extends({onPress:function onPress(){Keyboard.dismiss();setIsOpen(true);onOpen&&onOpen();},disabled:isDisabled,accessibilityLabel:accessibilityLabel,accessibilityRole:\"button\",ref:mergeRefs([ref,_ref])},layoutProps),commonInput),React.createElement(Actionsheet,{isOpen:isOpen,onClose:handleClose},React.createElement(Actionsheet.Content,_actionSheetContent,optimized?React.createElement(FlatList,_extends({},_actionSheetBody,{data:flatListData,keyExtractor:function keyExtractor(_item,index){return index.toString();},renderItem:function renderItem(_ref3){var item=_ref3.item;var isSelected=selectedValue===item.value;return React.createElement(Actionsheet.Item,_extends({onPress:function onPress(){if(!isDisabled){setValue(item.value);}},accessibilityState:{selected:isSelected}},item,_item,isSelected&&_selectedItem),item.label);}})):React.createElement(ScrollView,_actionSheetBody,React.createElement(SelectContext.Provider,{value:contextValue},children)))));};export default memo(forwardRef(Select));","map":{"version":3,"mappings":"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","names":["React","forwardRef","memo","Actionsheet","Box","Input","useFocusRing","useControllableState","usePropsResolution","useHover","mergeRefs","useFormControl","ChevronDownIcon","ScrollView","extractInObject","stylingProps","FlatList","useHasResponsiveProps","Pressable","SelectContext","createContext","onValueChange","selectedValue","_selectedItem","_item","Select","ref","isHoveredProp","isHovered","isFocusedProp","isFocused","isFocusVisibleProp","isFocusVisible","props","selectProps","isDisabled","nativeID","flatListData","disabled","tempFix","_ref","useRef","useState","isOpen","setIsOpen","setIsFocused","focusProps","hoverProps","undefined","children","dropdownIcon","dropdownCloseIcon","dropdownOpenIcon","placeholder","accessibilityLabel","defaultValue","onOpen","onClose","optimized","customDropdownIconProps","_actionSheetContent","_actionSheetBody","_webSelect","resolvedProps","value","onChange","newValue","setValue","itemsList","Children","map","child","label","selectedItemArray","filter","item","selectedItem","length","contextValue","useMemo","rightIcon","handleClose","push","margin","flexbox","position","layoutProps","commonInput","InputRightElement","importantForAccessibility","editable","focusable","Platform","OS","readOnly","required","style","e","target","onFocus","onBlur","onPress","Keyboard","dismiss","accessibilityRole","Content","data","keyExtractor","index","toString","renderItem","isSelected","Item","accessibilityState","selected","Provider"],"sources":["Select.tsx"],"sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport type { ISelectProps } from './types';\nimport { Platform, Keyboard } from 'react-native';\nimport { Actionsheet } from '../../composites/Actionsheet';\nimport Box from '../Box';\nimport { Input } from '../Input';\nimport { useFocusRing } from '@react-native-aria/focus';\nimport { useControllableState } from '../../../hooks';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { useHover } from '@react-native-aria/interactions';\nimport { mergeRefs } from '../../../utils';\nimport { useFormControl } from '../../composites/FormControl';\nimport { ChevronDownIcon } from '../Icon/Icons';\nimport type { IButtonProps } from '../Button/types';\nimport { ScrollView } from '../../basic/ScrollView';\nimport { extractInObject, stylingProps } from '../../../theme/tools/utils';\nimport { FlatList } from '../../basic/FlatList';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport type { ISelectItemProps } from './types';\nimport { Pressable } from '../Pressable';\n\nexport const SelectContext = React.createContext({\n  onValueChange: (() => {}) as any,\n  selectedValue: null as any,\n  _selectedItem: {} as IButtonProps,\n  _item: {} as IButtonProps,\n});\n\nconst Select = (\n  {\n    isHovered: isHoveredProp,\n    isFocused: isFocusedProp,\n    isFocusVisible: isFocusVisibleProp,\n    ...props\n  }: ISelectProps,\n  ref: any\n) => {\n  const selectProps = useFormControl({\n    isDisabled: props.isDisabled,\n    nativeID: props.nativeID,\n  });\n  const flatListData: ISelectItemProps[] = [];\n\n  const isDisabled = selectProps.disabled;\n  const tempFix = '__NativebasePlaceholder__';\n  const _ref = React.useRef(null);\n\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n  const [isFocused, setIsFocused] = React.useState<boolean>(false);\n\n  const { focusProps, isFocusVisible } = useFocusRing();\n  const { hoverProps, isHovered } = useHover({ isDisabled }, _ref);\n\n  const {\n    onValueChange,\n    selectedValue,\n    children,\n    dropdownIcon,\n    dropdownCloseIcon,\n    dropdownOpenIcon,\n    placeholder,\n    accessibilityLabel,\n    defaultValue,\n    _item,\n    _selectedItem,\n    onOpen,\n    onClose,\n    optimized,\n    customDropdownIconProps,\n    _actionSheetContent,\n    _actionSheetBody,\n    _webSelect,\n    ...resolvedProps\n  } = usePropsResolution(\n    'Select',\n    props,\n    {\n      isDisabled,\n      isHovered: isHoveredProp || isHovered,\n      isFocused: isFocusedProp || isFocused,\n      isFocusVisible: isFocusVisibleProp || isFocusVisible,\n    },\n    undefined\n  );\n\n  const [value, setValue] = useControllableState({\n    value: selectedValue,\n    defaultValue,\n    onChange: (newValue) => {\n      onValueChange && onValueChange(newValue);\n      setIsOpen(false);\n    },\n  });\n  const itemsList: Array<{ label: string; value: string }> = React.Children.map(\n    children ?? [],\n    (child: any) => {\n      return {\n        label: child.props.label,\n        value: child.props.value,\n      };\n    }\n  );\n  const selectedItemArray = itemsList.filter(\n    (item: any) => item.value === value\n  );\n  const selectedItem =\n    selectedItemArray && selectedItemArray.length ? selectedItemArray[0] : null;\n\n  const contextValue = React.useMemo(() => {\n    return {\n      onValueChange: setValue,\n      selectedValue: value,\n      _selectedItem: _selectedItem ?? {},\n      _item: _item ?? {},\n    };\n  }, [value, setValue, _selectedItem, _item]);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  const rightIcon =\n    isOpen && dropdownOpenIcon ? (\n      dropdownOpenIcon\n    ) : !isOpen && dropdownCloseIcon ? (\n      dropdownCloseIcon\n    ) : dropdownIcon ? (\n      dropdownIcon\n    ) : (\n      <ChevronDownIcon {...customDropdownIconProps} />\n    );\n\n  const handleClose = () => {\n    setIsOpen(false);\n    onClose && onClose();\n  };\n\n  if (optimized) {\n    React.Children.map(children, (child: any) => {\n      flatListData.push(child.props);\n    });\n  }\n\n  const [layoutProps] = extractInObject(resolvedProps, [\n    ...stylingProps.margin,\n    ...stylingProps.flexbox,\n    ...stylingProps.position,\n    'shadow',\n    'opacity',\n  ]);\n\n  const commonInput = (\n    <Input\n      placeholder={placeholder}\n      InputRightElement={rightIcon}\n      {...resolvedProps}\n      // NOTE: Adding ts-ignore as we're not exposing isFocused in the Input component\n      // @ts-ignore-next-line\n      isFocused={isFocused}\n      isHovered={isHovered}\n      aria-hidden={true}\n      importantForAccessibility=\"no\"\n      value={selectedItem?.label}\n      editable={false}\n      focusable={false}\n      isDisabled={isDisabled}\n    />\n  );\n\n  return Platform.OS === 'web' ? (\n    <Box>\n      {/* <Box w=\"100%\" h=\"100%\" position=\"absolute\" opacity=\"0\" zIndex={1}> */}\n      <select\n        aria-readonly={selectProps.readOnly}\n        required={selectProps.required}\n        disabled={isDisabled}\n        {...focusProps}\n        {...hoverProps}\n        ref={mergeRefs([ref, _ref])}\n        //@ts-ignore\n        style={_webSelect}\n        onChange={(e) => {\n          setValue(e.target.value);\n        }}\n        value={selectedItem === null ? tempFix : value}\n        aria-label={placeholder}\n        onFocus={() => {\n          setIsFocused(true);\n          onOpen && onOpen();\n        }}\n        onBlur={() => {\n          setIsFocused(false);\n          onClose && onClose();\n        }}\n      >\n        <option disabled value={tempFix}>\n          {placeholder}\n        </option>\n        {children}\n      </select>\n      {/* </Box> */}\n      {commonInput}\n    </Box>\n  ) : (\n    <>\n      <Pressable\n        onPress={() => {\n          Keyboard.dismiss();\n          setIsOpen(true);\n          onOpen && onOpen();\n        }}\n        disabled={isDisabled}\n        accessibilityLabel={accessibilityLabel}\n        accessibilityRole=\"button\"\n        ref={mergeRefs([ref, _ref])}\n        {...layoutProps}\n      >\n        {commonInput}\n      </Pressable>\n      <Actionsheet isOpen={isOpen} onClose={handleClose}>\n        <Actionsheet.Content {..._actionSheetContent}>\n          {/* TODO: Replace ScrollVeiw with FlatList */}\n          {optimized ? (\n            <FlatList\n              {..._actionSheetBody}\n              data={flatListData}\n              // eslint-disable-next-line no-shadow\n              keyExtractor={(_item, index) => index.toString()}\n              renderItem={({ item }: any) => {\n                const isSelected = selectedValue === item.value;\n                return (\n                  <Actionsheet.Item\n                    onPress={() => {\n                      if (!isDisabled) {\n                        setValue(item.value);\n                      }\n                    }}\n                    accessibilityState={{ selected: isSelected }}\n                    {...item}\n                    {..._item}\n                    {...(isSelected && _selectedItem)}\n                  >\n                    {item.label}\n                  </Actionsheet.Item>\n                );\n              }}\n            />\n          ) : (\n            <ScrollView {..._actionSheetBody}>\n              <SelectContext.Provider value={contextValue}>\n                {children}\n              </SelectContext.Provider>\n            </ScrollView>\n          )}\n        </Actionsheet.Content>\n      </Actionsheet>\n    </>\n  );\n};\n\nexport default memo(forwardRef(Select));\n"]},"metadata":{},"sourceType":"module"}