{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{snapValueToStep as $aTwux$snapValueToStep,clamp as $aTwux$clamp}from\"@react-aria/utils\";import{useControlledState as $aTwux$useControlledState}from\"@react-stately/utils\";import{useMemo as $aTwux$useMemo,useState as $aTwux$useState,useRef as $aTwux$useRef}from\"react\";function $parcel$export(e,n,v,s){Object.defineProperty(e,n,{get:v,set:s,enumerable:true,configurable:true});}var $28f99e3e86e6ec45$exports={};$parcel$export($28f99e3e86e6ec45$exports,\"useSliderState\",function(){return $28f99e3e86e6ec45$export$e5fda3247f5d67f9;});var $28f99e3e86e6ec45$var$DEFAULT_MIN_VALUE=0;var $28f99e3e86e6ec45$var$DEFAULT_MAX_VALUE=100;var $28f99e3e86e6ec45$var$DEFAULT_STEP_VALUE=1;function $28f99e3e86e6ec45$export$e5fda3247f5d67f9(props){var isDisabled=props.isDisabled,_props$minValue=props.minValue,minValue=_props$minValue===void 0?$28f99e3e86e6ec45$var$DEFAULT_MIN_VALUE:_props$minValue,_props$maxValue=props.maxValue,maxValue=_props$maxValue===void 0?$28f99e3e86e6ec45$var$DEFAULT_MAX_VALUE:_props$maxValue,formatter=props.numberFormatter,_props$step=props.step,step=_props$step===void 0?$28f99e3e86e6ec45$var$DEFAULT_STEP_VALUE:_props$step;var pageSize=$aTwux$useMemo(function(){var calcPageSize=(maxValue-minValue)/10;calcPageSize=$aTwux$snapValueToStep(calcPageSize,0,calcPageSize+step,step);return Math.max(calcPageSize,step);},[step,maxValue,minValue]);var _defaultValue;var _$aTwux$useControlled=$aTwux$useControlledState(props.value,(_defaultValue=props.defaultValue)!==null&&_defaultValue!==void 0?_defaultValue:[minValue],props.onChange),_$aTwux$useControlled2=_slicedToArray(_$aTwux$useControlled,2),values=_$aTwux$useControlled2[0],setValues=_$aTwux$useControlled2[1];var _$aTwux$useState=$aTwux$useState(new Array(values.length).fill(false)),_$aTwux$useState2=_slicedToArray(_$aTwux$useState,2),isDraggings=_$aTwux$useState2[0],setDraggings=_$aTwux$useState2[1];var isEditablesRef=$aTwux$useRef(new Array(values.length).fill(true));var _$aTwux$useState3=$aTwux$useState(undefined),_$aTwux$useState4=_slicedToArray(_$aTwux$useState3,2),focusedIndex=_$aTwux$useState4[0],setFocusedIndex=_$aTwux$useState4[1];var valuesRef=$aTwux$useRef(null);valuesRef.current=values;var isDraggingsRef=$aTwux$useRef(null);isDraggingsRef.current=isDraggings;function getValuePercent(value){return(value-minValue)/(maxValue-minValue);}function getThumbMinValue(index){return index===0?minValue:values[index-1];}function getThumbMaxValue(index){return index===values.length-1?maxValue:values[index+1];}function isThumbEditable(index){return isEditablesRef.current[index];}function setThumbEditable(index,editable){isEditablesRef.current[index]=editable;}function updateValue(index,value){if(isDisabled||!isThumbEditable(index))return;var thisMin=getThumbMinValue(index);var thisMax=getThumbMaxValue(index);value=$aTwux$snapValueToStep(value,thisMin,thisMax,step);valuesRef.current=$28f99e3e86e6ec45$var$replaceIndex(valuesRef.current,index,value);setValues(valuesRef.current);}function updateDragging(index,dragging){if(isDisabled||!isThumbEditable(index))return;var wasDragging=isDraggingsRef.current[index];isDraggingsRef.current=$28f99e3e86e6ec45$var$replaceIndex(isDraggingsRef.current,index,dragging);setDraggings(isDraggingsRef.current);if(props.onChangeEnd&&wasDragging&&!isDraggingsRef.current.some(Boolean))props.onChangeEnd(valuesRef.current);}function getFormattedValue(value){return formatter.format(value);}function setThumbPercent(index,percent){updateValue(index,getPercentValue(percent));}function getRoundedValue(value){return Math.round((value-minValue)/step)*step+minValue;}function getPercentValue(percent){var val=percent*(maxValue-minValue)+minValue;return $aTwux$clamp(getRoundedValue(val),minValue,maxValue);}function incrementThumb(index){var stepSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var s=Math.max(stepSize,step);updateValue(index,$aTwux$snapValueToStep(values[index]+s,minValue,maxValue,step));}function decrementThumb(index){var stepSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var s=Math.max(stepSize,step);updateValue(index,$aTwux$snapValueToStep(values[index]-s,minValue,maxValue,step));}return{values:values,getThumbValue:function getThumbValue(index){return values[index];},setThumbValue:updateValue,setThumbPercent:setThumbPercent,isThumbDragging:function isThumbDragging(index){return isDraggings[index];},setThumbDragging:updateDragging,focusedThumb:focusedIndex,setFocusedThumb:setFocusedIndex,getThumbPercent:function getThumbPercent(index){return getValuePercent(values[index]);},getValuePercent:getValuePercent,getThumbValueLabel:function getThumbValueLabel(index){return getFormattedValue(values[index]);},getFormattedValue:getFormattedValue,getThumbMinValue:getThumbMinValue,getThumbMaxValue:getThumbMaxValue,getPercentValue:getPercentValue,isThumbEditable:isThumbEditable,setThumbEditable:setThumbEditable,incrementThumb:incrementThumb,decrementThumb:decrementThumb,step:step,pageSize:pageSize};}function $28f99e3e86e6ec45$var$replaceIndex(array,index,value){if(array[index]===value)return array;return[].concat(_toConsumableArray(array.slice(0,index)),[value],_toConsumableArray(array.slice(index+1)));}export{$28f99e3e86e6ec45$export$e5fda3247f5d67f9 as useSliderState};","map":{"version":3,"mappings":"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","names":["$28f99e3e86e6ec45$var$DEFAULT_MIN_VALUE","$28f99e3e86e6ec45$var$DEFAULT_MAX_VALUE","$28f99e3e86e6ec45$var$DEFAULT_STEP_VALUE","$28f99e3e86e6ec45$export$e5fda3247f5d67f9","props","isDisabled","minValue","maxValue","formatter","numberFormatter","step","pageSize","$aTwux$useMemo","calcPageSize","$aTwux$snapValueToStep","Math","max","_defaultValue","$aTwux$useControlledState","value","defaultValue","onChange","values","setValues","$aTwux$useState","Array","length","fill","isDraggings","setDraggings","isEditablesRef","$aTwux$useRef","undefined","focusedIndex","setFocusedIndex","valuesRef","current","isDraggingsRef","getValuePercent","getThumbMinValue","index","getThumbMaxValue","isThumbEditable","setThumbEditable","editable","updateValue","thisMin","thisMax","$28f99e3e86e6ec45$var$replaceIndex","updateDragging","dragging","wasDragging","onChangeEnd","some","Boolean","getFormattedValue","format","setThumbPercent","percent","getPercentValue","getRoundedValue","round","val","$aTwux$clamp","incrementThumb","stepSize","s","decrementThumb","getThumbValue","setThumbValue","isThumbDragging","setThumbDragging","focusedThumb","setFocusedThumb","getThumbPercent","getThumbValueLabel","array","slice"],"sources":["packages/@react-stately/slider/src/useSliderState.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {clamp, snapValueToStep} from '@react-aria/utils';\nimport {SliderProps} from '@react-types/slider';\nimport {useControlledState} from '@react-stately/utils';\nimport {useMemo, useRef, useState} from 'react';\n\nexport interface SliderState {\n  /**\n   * Values managed by the slider by thumb index.\n   */\n  readonly values: number[],\n  /**\n   * Get the value for the specified thumb.\n   * @param index\n   */\n  getThumbValue(index: number): number,\n\n  /**\n   * Sets the value for the specified thumb.\n   * The actual value set will be clamped and rounded according to min/max/step.\n   * @param index\n   * @param value\n   */\n  setThumbValue(index: number, value: number): void,\n\n  /**\n   * Sets value for the specified thumb by percent offset (between 0 and 1).\n   * @param index\n   * @param percent\n   */\n  setThumbPercent(index: number, percent: number): void,\n\n  /**\n   * Whether the specific thumb is being dragged.\n   * @param index\n   */\n  isThumbDragging(index: number): boolean,\n  /**\n   * Set is dragging on the specified thumb.\n   * @param index\n   * @param dragging\n   */\n  setThumbDragging(index: number, dragging: boolean): void,\n\n  /**\n   * Currently-focused thumb index.\n   */\n  readonly focusedThumb: number | undefined,\n  /**\n   * Set focused true on specified thumb. This will remove focus from\n   * any thumb that had it before.\n   * @param index\n   */\n  setFocusedThumb(index: number | undefined): void,\n\n  /**\n   * Returns the specified thumb's value as a percentage from 0 to 1.\n   * @param index\n   */\n  getThumbPercent(index: number): number,\n\n  /**\n   * Returns the value as a percent between the min and max of the slider.\n   * @param index\n   */\n  getValuePercent(value: number): number,\n\n  /**\n   * Returns the string label for the specified thumb's value, per props.formatOptions.\n   * @param index\n   */\n  getThumbValueLabel(index: number): string,\n\n  /**\n   * Returns the string label for the value, per props.formatOptions.\n   * @param index\n   */\n  getFormattedValue(value: number): string,\n\n  /**\n   * Returns the min allowed value for the specified thumb.\n   * @param index\n   */\n  getThumbMinValue(index: number): number,\n\n  /**\n   * Returns the max allowed value for the specified thumb.\n   * @param index\n   */\n  getThumbMaxValue(index: number): number,\n\n  /**\n   * Converts a percent along track (between 0 and 1) to the corresponding value.\n   * @param percent\n   */\n  getPercentValue(percent: number): number,\n\n  /**\n   * Returns if the specified thumb is editable.\n   * @param index\n   */\n  isThumbEditable(index: number): boolean,\n\n  /**\n   * Set the specified thumb's editable state.\n   * @param index\n   * @param editable\n   */\n  setThumbEditable(index: number, editable: boolean): void,\n\n  /**\n   * Increments the value of the thumb by the step or page amount.\n   */\n  incrementThumb(index: number, stepSize?: number): void,\n  /**\n   * Decrements the value of the thumb by the step or page amount.\n   */\n  decrementThumb(index: number, stepSize?: number): void,\n\n  /**\n   * The step amount for the slider.\n   */\n  readonly step: number,\n\n  /**\n   * The page size for the slider, used to do a bigger step.\n   */\n  readonly pageSize: number\n}\n\nconst DEFAULT_MIN_VALUE = 0;\nconst DEFAULT_MAX_VALUE = 100;\nconst DEFAULT_STEP_VALUE = 1;\n\ninterface SliderStateOptions extends SliderProps {\n  numberFormatter: Intl.NumberFormat\n}\n\n/**\n * Provides state management for a slider component. Stores values for all thumbs,\n * formats values for localization, and provides methods to update the position\n * of any thumbs.\n * @param props\n */\nexport function useSliderState(props: SliderStateOptions): SliderState {\n  const {\n    isDisabled,\n    minValue = DEFAULT_MIN_VALUE,\n    maxValue = DEFAULT_MAX_VALUE,\n    numberFormatter: formatter,\n    step = DEFAULT_STEP_VALUE\n  } = props;\n\n  // Page step should be at least equal to step and always a multiple of the step.\n  let pageSize = useMemo(() => {\n    let calcPageSize = (maxValue - minValue) / 10;\n    calcPageSize = snapValueToStep(calcPageSize, 0, calcPageSize + step, step);\n    return Math.max(calcPageSize, step);\n  }, [step, maxValue, minValue]);\n\n  const [values, setValues] = useControlledState<number[]>(\n    props.value as any,\n    props.defaultValue ?? [minValue] as any,\n    props.onChange as any\n  );\n  const [isDraggings, setDraggings] = useState<boolean[]>(new Array(values.length).fill(false));\n  const isEditablesRef = useRef<boolean[]>(new Array(values.length).fill(true));\n  const [focusedIndex, setFocusedIndex] = useState<number | undefined>(undefined);\n\n  const valuesRef = useRef<number[]>(null);\n  valuesRef.current = values;\n  const isDraggingsRef = useRef<boolean[]>(null);\n  isDraggingsRef.current = isDraggings;\n\n  function getValuePercent(value: number) {\n    return (value - minValue) / (maxValue - minValue);\n  }\n\n  function getThumbMinValue(index: number) {\n    return index === 0 ? minValue : values[index - 1];\n  }\n  function getThumbMaxValue(index: number) {\n    return index === values.length - 1 ? maxValue : values[index + 1];\n  }\n\n  function isThumbEditable(index: number) {\n    return isEditablesRef.current[index];\n  }\n\n  function setThumbEditable(index: number, editable: boolean) {\n    isEditablesRef.current[index] = editable;\n  }\n\n  function updateValue(index: number, value: number) {\n    if (isDisabled || !isThumbEditable(index)) {\n      return;\n    }\n    const thisMin = getThumbMinValue(index);\n    const thisMax = getThumbMaxValue(index);\n\n    // Round value to multiple of step, clamp value between min and max\n    value = snapValueToStep(value, thisMin, thisMax, step);\n    valuesRef.current = replaceIndex(valuesRef.current, index, value);\n    setValues(valuesRef.current);\n  }\n\n  function updateDragging(index: number, dragging: boolean) {\n    if (isDisabled || !isThumbEditable(index)) {\n      return;\n    }\n\n    const wasDragging = isDraggingsRef.current[index];\n    isDraggingsRef.current = replaceIndex(isDraggingsRef.current, index, dragging);\n    setDraggings(isDraggingsRef.current);\n\n    // Call onChangeEnd if no handles are dragging.\n    if (props.onChangeEnd && wasDragging && !isDraggingsRef.current.some(Boolean)) {\n      props.onChangeEnd(valuesRef.current);\n    }\n  }\n\n  function getFormattedValue(value: number) {\n    return formatter.format(value);\n  }\n\n  function setThumbPercent(index: number, percent: number) {\n    updateValue(index, getPercentValue(percent));\n  }\n\n  function getRoundedValue(value: number) {\n    return Math.round((value - minValue) / step) * step + minValue;\n  }\n\n  function getPercentValue(percent: number) {\n    const val = percent * (maxValue - minValue) + minValue;\n    return clamp(getRoundedValue(val), minValue, maxValue);\n  }\n\n  function incrementThumb(index: number, stepSize: number = 1) {\n    let s = Math.max(stepSize, step);\n    updateValue(index, snapValueToStep(values[index] + s, minValue, maxValue, step));\n  }\n\n  function decrementThumb(index: number, stepSize: number = 1) {\n    let s = Math.max(stepSize, step);\n    updateValue(index, snapValueToStep(values[index] - s, minValue, maxValue, step));\n  }\n\n  return {\n    values: values,\n    getThumbValue: (index: number) => values[index],\n    setThumbValue: updateValue,\n    setThumbPercent,\n    isThumbDragging: (index: number) => isDraggings[index],\n    setThumbDragging: updateDragging,\n    focusedThumb: focusedIndex,\n    setFocusedThumb: setFocusedIndex,\n    getThumbPercent: (index: number) => getValuePercent(values[index]),\n    getValuePercent,\n    getThumbValueLabel: (index: number) => getFormattedValue(values[index]),\n    getFormattedValue,\n    getThumbMinValue,\n    getThumbMaxValue,\n    getPercentValue,\n    isThumbEditable,\n    setThumbEditable,\n    incrementThumb,\n    decrementThumb,\n    step,\n    pageSize\n  };\n}\n\nfunction replaceIndex<T>(array: T[], index: number, value: T) {\n  if (array[index] === value) {\n    return array;\n  }\n\n  return [...array.slice(0, index), value, ...array.slice(index + 1)];\n}\n"]},"metadata":{},"sourceType":"module"}