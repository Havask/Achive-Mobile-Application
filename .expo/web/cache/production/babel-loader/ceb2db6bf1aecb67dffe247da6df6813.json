{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useState,useContext,useEffect}from\"react\";import FlatList from\"react-native-web/dist/exports/FlatList\";import{FirebaseContext}from\"../../context/FirebaseContext\";import{UserContext}from\"../../context/UserContext\";import{GroupContext}from\"../../context/GroupContext\";import RefreshControl from\"react-native-web/dist/exports/RefreshControl\";import Vibration from\"react-native-web/dist/exports/Vibration\";import{VStack,Input,Button,Icon,Box,Heading,Stack,Pressable,AspectRatio,Image}from\"native-base\";import{MaterialIcons}from\"@expo/vector-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default ExplorerScreen=function ExplorerScreen(_ref){var navigation=_ref.navigation;var firebase=useContext(FirebaseContext);var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),User=_useContext2[0],setUser=_useContext2[1];var _useContext3=useContext(GroupContext),_useContext4=_slicedToArray(_useContext3,2),Group=_useContext4[0],setGroup=_useContext4[1];var _useState=useState(),_useState2=_slicedToArray(_useState,2),Suggestion=_useState2[0],setSuggestion=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Query=_useState4[0],setQuery=_useState4[1];useEffect(function(){RetriveGroups();},[]);var SearchHandler=function SearchHandler(){var Search_array=firebase.SearchForCommunities(Query);setSuggestion(Search_array);};var JoinGroup=function JoinGroup(groupID){firebase.JoinGroup(groupID);};var RetriveGroups=function RetriveGroups(){var NewSuggestion;return _regeneratorRuntime.async(function RetriveGroups$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(firebase.ExplorationFeed());case 3:NewSuggestion=_context.sent;setSuggestion(NewSuggestion);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Error @RetriveGroups\",_context.t0);case 10:case\"end\":return _context.stop();}}},null,null,[[0,7]],Promise);};var RenderGroups=function RenderGroups(_ref2){var item=_ref2.item;return _jsx(Box,{w:\"200\",h:\"200\",rounded:\"lg\",overflow:\"hidden\",borderColor:\"coolGray.200\",borderWidth:\"5\",children:_jsxs(Pressable,{_pressed:{bg:\"muted.400\"},onPress:JoinGroup(item.groupID),children:[_jsx(Box,{w:\"100%\",children:_jsx(AspectRatio,{w:\"100%\",ratio:16/9,children:_jsx(Image,{source:{uri:\"https://picsum.photos/200/300\"},alt:\"image\"})})}),_jsx(Stack,{p:\"4\",space:3,children:_jsx(Stack,{space:2,children:_jsx(Heading,{size:\"md\",ml:\"-1\",children:item.groupname})})})]})});};return _jsxs(Box,{children:[_jsxs(VStack,{my:\"4\",space:5,w:\"100%\",maxW:\"300px\",alignSelf:\"center\",pt:\"10\",children:[_jsxs(VStack,{w:\"100%\",space:5,alignSelf:\"center\",children:[_jsx(Heading,{alignSelf:\"center\",fontSize:\"lg\",children:\" Find your community: \"}),_jsx(Input,{input:Query,onChangeText:function onChangeText(Query){return setQuery(Query);},placeholder:\"Search for groups\",width:\"100%\",borderRadius:\"4\",py:\"3\",px:\"1\",fontSize:\"14\",InputLeftElement:_jsx(Icon,{m:\"2\",ml:\"3\",size:\"6\",color:\"gray.400\",as:_jsx(MaterialIcons,{name:\"search\"})})})]}),_jsx(Button,{onPress:SearchHandler,children:\"Search for group\"})]}),_jsx(FlatList,{contentContainerStyle:{alignSelf:'center'},numColumns:2,data:Suggestion,renderItem:RenderGroups,keyExtractor:function keyExtractor(item){return item.groupID.toString();},refreshControl:_jsx(RefreshControl,{onRefresh:RetriveGroups})})]});};","map":{"version":3,"names":["React","useState","useContext","useEffect","FirebaseContext","UserContext","GroupContext","VStack","Input","Button","Icon","Box","Heading","Stack","Pressable","AspectRatio","Image","MaterialIcons","ExplorerScreen","navigation","firebase","User","setUser","Group","setGroup","Suggestion","setSuggestion","Query","setQuery","RetriveGroups","SearchHandler","Search_array","SearchForCommunities","JoinGroup","groupID","ExplorationFeed","NewSuggestion","console","log","RenderGroups","item","bg","uri","groupname","alignSelf","toString"],"sources":["/Users/havardskjaerstein/Desktop/Achive/screens/Explorer/ExploreScreen.js"],"sourcesContent":["\nimport React, {useState, useContext, useEffect} from \"react\";\nimport { FlatList } from \"react-native\";\nimport {FirebaseContext} from \"../../context/FirebaseContext\";\nimport {UserContext} from \"../../context/UserContext\";\nimport {GroupContext} from \"../../context/GroupContext\";\n\nimport {RefreshControl, Vibration} from 'react-native';\n\nimport { VStack, Input, Button, Icon, Box, Heading,Stack,Pressable, AspectRatio, Image} from \"native-base\";\nimport {MaterialIcons } from \"@expo/vector-icons\";\n\nexport default ExplorerScreen = ({navigation}) => {\n  \n  const firebase = useContext(FirebaseContext); \n  const [User, setUser] = useContext(UserContext); \n  const [Group, setGroup] = useContext(GroupContext); \n  \n  const [Suggestion, setSuggestion] = useState(); \n  const [Query, setQuery] = useState(\"\"); \n\n  useEffect(() => {\n    RetriveGroups();  \n  }, []);\n\n  const SearchHandler = () => {\n//queryes the database for groups to join\n\n  const Search_array = firebase.SearchForCommunities(Query)\n  setSuggestion(Search_array); \n}; \n\nconst JoinGroup = (groupID) => {\n    //queryes the database for groups to join\n    firebase.JoinGroup(groupID)\n  }; \n\nconst RetriveGroups = async () => {\n  try{\n    const NewSuggestion = await firebase.ExplorationFeed() \n    //console.log(\"sug\",NewSuggestion)\n    setSuggestion(NewSuggestion);  \n\n    }catch(error){\n      console.log(\"Error @RetriveGroups\", error)\n    }\n}\n  const RenderGroups = ({item}) =>(\n\n    <Box w=\"200\" h=\"200\" rounded=\"lg\" overflow=\"hidden\" borderColor=\"coolGray.200\" borderWidth=\"5\" >\n      <Pressable _pressed={{bg: \"muted.400\"}} onPress={JoinGroup(item.groupID)}>\n        <Box w=\"100%\">\n            <AspectRatio w=\"100%\" ratio={16 / 9}>\n              <Image source={{\n              uri: \"https://picsum.photos/200/300\"\n            }} alt=\"image\" />\n            </AspectRatio>\n        </Box>\n\n        <Stack p=\"4\" space={3}>\n          <Stack space={2}>\n            <Heading size=\"md\" ml=\"-1\">\n            {item.groupname}\n            </Heading>\n          </Stack>\n        </Stack>\n        </Pressable>\n      </Box>\n  )\n\n  return(\n    <Box>\n\n      <VStack my=\"4\" space={5} w=\"100%\" maxW=\"300px\" alignSelf=\"center\" pt=\"10\">\n        <VStack w=\"100%\" space={5} alignSelf=\"center\">\n          <Heading alignSelf=\"center\" fontSize=\"lg\"> Find your community: </Heading>\n          <Input input={Query} onChangeText={Query => setQuery(Query)} placeholder=\"Search for groups\" width=\"100%\" borderRadius=\"4\" py=\"3\" px=\"1\" fontSize=\"14\" \n          InputLeftElement={<Icon m=\"2\" ml=\"3\" size=\"6\" color=\"gray.400\" as={<MaterialIcons name=\"search\" />} />} />\n        </VStack>\n        <Button onPress={SearchHandler}>Search for group</Button>\n      </VStack>\n\n      <FlatList \n        contentContainerStyle={{alignSelf: 'center'}}\n        numColumns={2}\n        data={Suggestion} \n        renderItem={RenderGroups} \n        keyExtractor={item => item.groupID.toString()} \n        refreshControl={<RefreshControl onRefresh={RetriveGroups} />}\n      />\n    </Box>\n  );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}